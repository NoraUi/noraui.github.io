/*
    *
    * Wijmo Library 5.20142.10
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    * 
    * Licensed under the Wijmo Commercial License. 
    * sales@wijmo.com
    * http://wijmo.com/widgets/license/
    *
    */
var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},wijmo;(function(n){(function(t){"use strict";var h,c,l,f;(function(n){n[n.Column=0]="Column";n[n.Bar=1]="Bar";n[n.Scatter=2]="Scatter";n[n.Line=3]="Line";n[n.LineSymbols=4]="LineSymbols";n[n.Area=5]="Area";n[n.Bubble=6]="Bubble";n[n.Candlestick=7]="Candlestick";n[n.HighLowOpenClose=8]="HighLowOpenClose"})(t.ChartType||(t.ChartType={}));h=t.ChartType,function(n){n[n.None=0]="None";n[n.Stacked=1]="Stacked";n[n.Stacked100pc=2]="Stacked100pc"}(t.Stacking||(t.Stacking={}));c=t.Stacking,function(n){n[n.None=0]="None";n[n.Series=1]="Series";n[n.Point=2]="Point"}(t.SelectionMode||(t.SelectionMode={}));l=t.SelectionMode;f=function(r){function u(f,e){var o,s,h;r.call(this,f,null,!0);this._series=new n.collections.ObservableArray;this._axisX=new t.Axis(4);this._axisY=new t.Axis(1);this._chartType=0;this._selectionMode=0;this._interpolateNulls=!1;this._legendToggle=!1;this._symbolSize=10;this._dataInfo=new i;this.__barPlotter=null;this.__linePlotter=null;this.__areaPlotter=null;this.__bubblePlotter=null;this.__financePlotter=null;this._rotated=!1;this._stacking=0;this._xlabels=[];this._xvals=[];this._palette=null;this._defPalette=["#5DA5DA","#FAA43A","#60BD68","#E5126F","#9D722A"];this._hitTester=new nt;this._tooltip=new p;this._notifyCurrentChanged=!0;this._legendHost=null;this.selectionChanged=new n.Event;this.rendered=new n.Event;this.seriesVisibilityChanged=new n.Event;this.applyTemplate("wj-control wj-flexchart",null,null);o=this;o._series.collectionChanged.addHandler(function(){for(var i,r=o._series,t=0;t<r.length;t++){if(i=n.tryCast(r[t],n.chart.Series),!i)throw"chartSeries array must contain Series objects.";i._chart=o}o.refresh()});this._currentRenderEngine=new t._SvgRenderEngine(this.hostElement);this._legend=new t.Legend(this);s=this._axisX;h=this._axisY;this._axisX.majorGrid=!1;this._axisY.majorGrid=!0;this._axisY.majorTickMarks=0;s._chart=this;h._chart=this;this._keywords=new tt(this);n.isTouchDevice()?this.hostElement.addEventListener("click",function(t){var i=o._tooltip,f=i.content,r,u;f&&(r=o.hitTest(t),r.distance<=i.threshold?(u=o._getTooltipContent(r),i.show(o.hostElement,u,new n.Rect(t.clientX,t.clientY,5,5))):i.hide())}):this.hostElement.addEventListener("mousemove",function(t){var i=o._tooltip,f=i.content,r,u;f&&(r=o.hitTest(t),r.distance<=i.threshold?(u=o._getTooltipContent(r),i.show(o.hostElement,u,new n.Rect(t.clientX,t.clientY,5,5))):i.hide())});this.hostElement.addEventListener("click",function(n){if(o.selectionMode!=0){var t=o._hitTestData(n),i=u._SELECTION_THRESHOLD;o.tooltip&&o.tooltip.threshold&&(i=o.tooltip.threshold);t.distance<=i&&t.series?o._select(t.series,t.pointIndex):o.selectionMode==1?(t=o.hitTest(n),t.chartElement==4&&t.series?o._select(t.series,null):o._select(null,null)):o._select(null,null)}o.legendToggle===!0&&(t=o.hitTest(n),t.chartElement==4&&t.series&&(t.series.visibility==2?t.series.visibility=0:t.series.visibility==0&&(t.series.visibility=2)))});e&&this.initialize(e)}return __extends(u,r),Object.defineProperty(u.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._clearSeries(),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"chartType",{get:function(){return this._chartType},set:function(t){t!=this._chartType&&(this._chartType=n.asEnum(t,h),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"axisX",{get:function(){return this._axisX},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"axisY",{get:function(){return this._axisY},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"legend",{get:function(){return this._legend},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"binding",{get:function(){return this._binding},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"bindingX",{get:function(){return this._bindingX},set:function(t){t!=this._bindingX&&(this._bindingX=n.asString(t,!0),this._bindChart())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"stacking",{get:function(){return this._stacking},set:function(t){t!=this._stacking&&(this._stacking=n.asEnum(t,c),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=n.asNumber(t,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"interpolateNulls",{get:function(){return this._interpolateNulls},set:function(t){t!=this._interpolateNulls&&(this._interpolateNulls=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"legendToggle",{get:function(){return this._legendToggle},set:function(t){t!=this._legendToggle&&(this._legendToggle=n.asBoolean(t))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"header",{get:function(){return this._header},set:function(t){t!=this._header&&(this._header=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"footer",{get:function(){return this._footer},set:function(t){t!=this._footer&&(this._footer=n.asString(t,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"headerStyle",{get:function(){return this._headerStyle},set:function(n){n!=this._headerStyle&&(this._headerStyle=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"footerStyle",{get:function(){return this._footerStyle},set:function(n){n!=this._footerStyle&&(this._footerStyle=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotated",{get:function(){return this._rotated},set:function(t){t!=this._rotated&&(this._rotated=n.asBoolean(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"palette",{get:function(){return this._palette},set:function(t){t!=this._palette&&(this._palette=n.asArray(t),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"options",{get:function(){return this._options},set:function(n){n!=this._options&&(this._options=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"tooltip",{get:function(){return this._tooltip},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selectionMode",{get:function(){return this._selectionMode},set:function(t){t!=this._selectionMode&&(this._selectionMode=n.asEnum(t,l),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"selection",{get:function(){return this._selection},set:function(n){n!=this._selection&&(this._selection=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"plotMargin",{get:function(){return this._plotMargin},set:function(n){n!=this._plotMargin&&(this._plotMargin=n,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),u.prototype.onSelectionChanged=function(n){this.selectionChanged.raise(this,n)},u.prototype.onRendered=function(){this.rendered.raise(this)},u.prototype.onSeriesVisibilityChanged=function(n){this.seriesVisibilityChanged.raise(this,n)},u.prototype.refresh=function(n){typeof n=="undefined"&&(n=!0);this.isUpdating||this._refreshChart()},u.prototype.hitTest=function(n,i){var r=this._toControl(n,i),f=new t.HitTestInfo(this,r),e=null,o;return u._contains(this._rectHeader,r)?f._chartElement=5:u._contains(this._rectFooter,r)?f._chartElement=6:u._contains(this._rectLegend,r)?(f._chartElement=4,e=this.legend._hitTest(r),e!==null&&e>=0&&e<this.series.length&&(f._series=this.series[e])):u._contains(this._rectChart,r)?(o=this._hitTester.hitTest(r),o&&o.area?(f._pointIndex=o.area.tag.pointIndex,e=o.area.tag.seriesIndex,e!==null&&e>=0&&e<this.series.length&&(f._series=this.series[e]),f._dist=o.distance,f._chartElement=u._contains(this._plotRect,r)?0:u._contains(this.axisX._axrect,r)?1:u._contains(this.axisY._axrect,r)?2:3):u._contains(this._plotRect,r)?f._chartElement=0:u._contains(this._rectChart,r)&&(f._chartElement=3)):f._chartElement=9,f},u.prototype.pointToData=function(t,i){return n.isNumber(t)&&n.isNumber(i)&&(t=new n.Point(t,i)),t instanceof MouseEvent?(t=new n.Point(t.pageX,t.pageY),t=this._toControl(t)):t=t.clone(),t.x=this.axisX.convertBack(t.x),t.y=this.axisY.convertBack(t.y),t},u.prototype.dataToPoint=function(t,i){var r,u;return n.isNumber(t)&&n.isNumber(i)&&(t=new n.Point(t,i)),n.asType(t,n.Point),r=t.clone(),r.x=this.axisX.convert(r.x),r.y=this.axisY.convert(r.y),u=$(this.hostElement).offset(),r.x-=u.left,r.y-=u.top,r},u.prototype._copy=function(i,r){var f,u,e;if(i=="series"){for(f=n.asArray(r),u=0;u<f.length;u++)e=new t.Series,n.copy(e,f[u]),this.series.push(e);return!0}return!1},u.prototype._clearSeries=function(){for(var t,n=0;n<this._series.length;n++)t=this._series[n],t.itemsSource==null&&t._clearValues()},u.prototype._cvCollectionChanged=function(){this._clearSeries();this._bindChart()},u.prototype._cvCurrentChanged=function(){this._notifyCurrentChanged&&this._bindChart()},u.prototype._bindChart=function(){var i,f,r,e,t;if(this._xDataType=null,this._xlabels.splice(0),this._xvals.splice(0),this._cv&&(i=this._cv.items,i)){for(f=i.length,r=0;r<f;r++)e=i[r],this._bindingX&&(t=e[this._bindingX],n.isNumber(t)?(this._xvals.push(n.asNumber(t)),this._xDataType=2):n.isDate(t)&&(this._xvals.push(u._toOADate(n.asDate(t))),this._xDataType=4),this._xlabels.push(e[this._bindingX]));this._xvals.length==f?this._xlabels.splice(0):this._xvals.splice(0)}this.invalidate()},u.prototype._toControl=function(t,i){n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof MouseEvent&&(t=new n.Point(t.pageX,t.pageY));n.asType(t,n.Point);var r=t.clone(),u=$(this.hostElement),f=u.offset();return r.x-=f.left+parseInt(u.css("padding-left")),r.y-=f.top+parseInt(u.css("padding-top")),r},u.prototype._getColor=function(n){var t=this._defPalette;return this._palette!=null&&this._palette.length>0&&(t=this._palette),t[n%t.length]},u.prototype._getColorLight=function(n){var t=this._getColor(n),i=g.parse(t);return i!=null&&(i.a*=.7,t=i.toString()),t},u.prototype._hitTestSeries=function(n,i){var e=n.clone(),o=this.hostElement;e.x-=o.offsetLeft;e.y-=o.offsetTop;var r=new t.HitTestInfo(this,e),u=i,f=this._hitTester.hitTestSeries(e,i);return f&&f.area&&(r._pointIndex=f.area.tag.pointIndex,u=f.area.tag.seriesIndex,u!==null&&u>=0&&u<this.series.length&&(r._series=this.series[u]),r._chartElement=0,r._dist=f.distance),r},u.prototype._hitTestData=function(n){var f=this._toControl(n),u=new t.HitTestInfo(this,f),i=this._hitTester.hitTest(f,!0),r;return i&&i.area&&(u._pointIndex=i.area.tag.pointIndex,r=i.area.tag.seriesIndex,r!==null&&r>=0&&r<this.series.length&&(u._series=this.series[r]),u._dist=i.distance),u},u.prototype._hitTestLines=function(n){var e,t,i,h;if(n.series){e=n.pointIndex;t=n.series._indexToPoint(e);t=this.dataToPoint(t);var o=null,s=null,r=n.series._indexToPoint(e-1),f=n.series._indexToPoint(e+1);r&&(r=this.dataToPoint(r),o=u._dist2(t,r));f&&(f=this.dataToPoint(f),s=u._dist2(t,f));i=n.point.clone();h=this.hostElement;i.x-=h.offsetLeft;i.y-=h.offsetTop;o&&s?n._dist=o<s?u._dist(i,t,r):u._dist(i,t,f):o?n._dist=u._dist(i,t,r):s&&(n._dist=u._dist(i,t,f))}return n},u._dist2=function(n,t){var i=n.x-t.x,r=n.y-t.y;return i*i+r*r},u._dist=function(n,t,i){return Math.sqrt(u._distToSegmentSquared(n,t,i))},u._distToSegmentSquared=function(t,i,r){var e=u._dist2(i,r),f;return e==0?u._dist2(t,i):(f=((t.x-i.x)*(r.x-i.x)+(t.y-i.y)*(r.y-i.y))/e,f<0)?u._dist2(t,i):f>1?u._dist2(t,r):u._dist2(t,new n.Point(i.x+f*(r.x-i.x),i.y+f*(r.y-i.y)))},u.prototype._isRotated=function(){return this._chartType==1?!this._rotated:this._rotated},u.prototype._refreshChart=function(){this._render(this._currentRenderEngine)},u.prototype._drawTitle=function(t,i,r,f,e){var o=u._CSS_TITLE,s=e?u._CSS_FOOTER:u._CSS_HEADER,h=null;if(e?this._rectFooter=null:this._rectHeader=null,r!=null){var l=null,a=null,v=null,c=null;f&&(f.fontSize&&(l=f.fontSize),f.foreground&&(a=f.foreground),f.fontFamily&&(v=f.fontFamily),f.halign&&(c=f.halign));t.fontSize=l;t.fontFamily=v;h=t.measureString(r,o,s);i.height-=h.height;t.textFill=a;e?(c=="left"?u._renderText(t,r,new n.Point(i.left,i.bottom),0,0,o,s):c=="right"?u._renderText(t,r,new n.Point(i.left+i.width,i.bottom),2,0,o,s):u._renderText(t,r,new n.Point(i.left+.5*i.width,i.bottom),1,0,o,s),this._rectFooter=new n.Rect(i.left,i.bottom,i.width,h.height)):(this._rectHeader=new n.Rect(i.left,i.top,i.width,h.height),i.top+=h.height,c=="left"?u._renderText(t,r,new n.Point(i.left,0),0,0,o,s):c=="right"?u._renderText(t,r,new n.Point(i.left+i.width,0),2,0,o,s):u._renderText(t,r,new n.Point(i.left+.5*i.width,0),1,0,o,s));t.textFill=null;t.fontSize=null;t.fontFamily=null}return i},u.prototype._render=function(t){var g=this.hostElement,f=$(g).width(),e=$(g).height(),nt,p,r,l,i,h,v,y,a,w,c,o,b,k,s,d;f==0&&(f=u._WIDTH);e==0&&(e=u._HEIGHT);nt=new n.Size(f,e);t.beginRender();t.setViewportSize(f,e);this._hitTester.clear();p=this.legend;i=new n.Rect(0,0,f,e);this._rectChart=i.clone();t.startGroup(u._CSS_HEADER);i=this._drawTitle(t,i,this.header,this.headerStyle,!1);t.endGroup();t.startGroup(u._CSS_FOOTER);i=this._drawTitle(t,i,this.footer,this.footerStyle,!0);t.endGroup();f=i.width;e=i.height;r=p._getDesiredSize(t);switch(p.position){case 3:f-=r.width;l=new n.Point(f,i.top+.5*(e-r.height));break;case 1:i.left+=r.width;f-=r.width;l=new n.Point(0,i.top+.5*(e-r.height));break;case 2:e-=r.height;l=new n.Point(.5*(f-r.width),i.top);i.top+=r.height;break;case 4:e-=r.height;l=new n.Point(.5*(f-r.width),i.top+e)}for(i.width=f,i.height=e,o=this._getPlotter(null),o.stacking=this._stacking,this._dataInfo.analyse(this._series,o.stacking,this._xvals.length>0?this._xvals:null),h=o.adjustLimits(this._dataInfo,i.clone()),this._isRotated()?(v=this._dataInfo.getDataTypeX(),v||(v=this._xDataType),this.axisX._updateActualLimits(this._dataInfo.getDataTypeX(),h.left,h.right),this.axisY._updateActualLimits(v,h.top,h.bottom,this._xlabels,this._xvals)):(y=this._dataInfo.getDataTypeX(),y||(y=this._xDataType),this.axisX._updateActualLimits(y,h.left,h.right,this._xlabels,this._xvals),this.axisY._updateActualLimits(this._dataInfo.getDataTypeY(),h.top,h.bottom)),this._layout(i,nt,t),t.startGroup(u._CSS_PLOT_AREA),a=this._plotRect,t.fill="transparent",t.stroke=null,t.drawRect(a.left,a.top,a.width,a.height),t.endGroup(),w=this._series.length,this._clearPlotters(),s=0;s<w;s++)c=this._series[s],o=this._getPlotter(c),o.seriesCount++;for(t.startGroup(),this._plotrectId="plotRect"+(1e6*Math.random()).toFixed(),t.addClipRect(this._plotRect,this._plotrectId),s=0;s<w;s++)c=this._series[s],c._pointIndexes=[],o=this._getPlotter(c),c._hostElement=t.startGroup(c.cssClass,o.clipping?this._plotrectId:null),b=c.visibility,(b==0||b==1)&&(o.plotSeries(t,this.axisX,this.axisY,c,this,o.seriesIndex,o.seriesCount),o.seriesIndex++),t.endGroup();for(t.endGroup(),r?(this._legendHost=t.startGroup(u._CSS_LEGEND),this._rectLegend=new n.Rect(l.x,l.y,r.width,r.height),this.legend._render(t,l),t.endGroup()):(this._legendHost=null,this._rectLegend=null),k=this._getAxes(),s=0;s<k.length;s++)d=k[s],d.axisType==0?t.startGroup(u._CSS_AXIS_X):t.startGroup(u._CSS_AXIS_Y),d._render(t),t.endGroup();this._highlightCurrent();t.endRender();this.onRendered()},u.prototype._getAxes=function(){return[this.axisX,this.axisY]},u.prototype._clearPlotters=function(){this._areaPlotter.clear();this._barPlotter.clear();this._linePlotter.clear()},u.prototype._initPlotter=function(n){n.chart=this;n.dataInfo=this._dataInfo;n.hitTester=this._hitTester},Object.defineProperty(u.prototype,"_barPlotter",{get:function(){return this.__barPlotter===null&&(this.__barPlotter=new w,this._initPlotter(this.__barPlotter)),this.__barPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"_linePlotter",{get:function(){return this.__linePlotter===null&&(this.__linePlotter=new a,this._initPlotter(this.__linePlotter)),this.__linePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"_areaPlotter",{get:function(){return this.__areaPlotter===null&&(this.__areaPlotter=new b,this._initPlotter(this.__areaPlotter)),this.__areaPlotter},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"_bubblePlotter",{get:function(){return this.__bubblePlotter===null&&(this.__bubblePlotter=new k,this._initPlotter(this.__bubblePlotter)),this.__bubblePlotter},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"_financePlotter",{get:function(){return this.__financePlotter===null&&(this.__financePlotter=new d,this._initPlotter(this.__financePlotter)),this.__financePlotter},enumerable:!0,configurable:!0}),u.prototype._getPlotter=function(n){var i=this.chartType,t;n&&n.chartType&&(i=n.chartType);switch(i){case 0:t=this._barPlotter;break;case 1:this._barPlotter.rotated=!this._rotated;t=this._barPlotter;break;case 3:this._linePlotter.hasSymbols=!1;this._linePlotter.hasLines=!0;t=this._linePlotter;break;case 2:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!1;t=this._linePlotter;break;case 4:this._linePlotter.hasSymbols=!0;this._linePlotter.hasLines=!0;t=this._linePlotter;break;case 5:t=this._areaPlotter;break;case 6:t=this._bubblePlotter;break;case 7:this._financePlotter.isCandle=!0;t=this._financePlotter;break;case 8:this._financePlotter.isCandle=!1;t=this._financePlotter;break;default:throw"Invalid chart type.";}return t.rotated=this._rotated,i==1&&(t.rotated=!t.rotated),t},u.prototype._layout=function(t,i,r){for(var f,k,l,u,d,nt,e=t.width,o=t.height,tt=new n.Size(e,.75*o),it=new n.Size(o,.75*e),s=0,h=0,p=e,w=o,a=0,c=0,v=e,y=o,g=this._getAxes(),b=0;b<g.length;b++)u=g[b],u.axisType==0?(f=u._getHeight(r),f>tt.height&&(f=tt.height),u._desiredSize=new n.Size(tt.width,f),k=!1,u.position==4?(s=Math.max(s,u._annoSize.width*.5),p=Math.min(p,e-u._annoSize.width*.5),k||(y=y-f)):u.position==2&&(s=Math.max(s,u._annoSize.width*.5),p=Math.min(p,e-u._annoSize.width*.5),k||(c=c+f))):u.axisType==1&&(f=u._getHeight(r),f>it.height&&(f=it.height),u._desiredSize=new n.Size(it.width,f),k=!1,u.position==1?(h=Math.max(h,u._annoSize.width*.5),w=Math.min(w,o-u._annoSize.width*.5),k||(a+=f)):u.position==3&&(h=Math.max(h,u._annoSize.width*.5),w=Math.min(w,o-u._annoSize.width*.5),k||(v=v-f)));for(l=this._parseMargin(this.plotMargin),s=l.left?a=l.left:a=Math.max(s,a)+t.left,p=l.right?v=i.width-l.right:v=Math.min(p,v)+t.left,h=l.top?c=l.top:c=Math.max(h,c)+t.top,w=l.bottom?y=i.height-l.bottom:y=Math.min(w,y)+t.top,e=Math.max(1,p-s),o=Math.max(1,w-h),this._plotRect=new n.Rect(s,h,e,o),r.stroke=null,b=0;b<g.length;b++)u=g[b],u.axisType==0?(u.position==4?(d=new n.Rect(s,y,e,u._desiredSize.height),y+=u._desiredSize.height):u.position==2?(d=new n.Rect(s,c-u._desiredSize.height,e,u._desiredSize.height),c-=u._desiredSize.height):d=new n.Rect(s,c,e,1),u._layout(d,this._plotRect)):u.axisType==1&&(u.position==1?(nt=new n.Rect(a-u._desiredSize.height,h,o,u._desiredSize.height),a-=u._desiredSize.height):u.position==3?(nt=new n.Rect(v,h,o,u._desiredSize.height),v+=u._desiredSize.height):nt=new n.Rect(a,h,o,1),u._layout(nt,this._plotRect))},u.prototype._getTooltipContent=function(t){var i=this._tooltip.content;return n.isString(i)?this._keywords.replace(i,t):n.isFunction(i)?i(t):null},u.prototype._select=function(n,t){if(this._selection&&this._highlight(this._selection,!1,this._selectionIndex),this._selection=n,this._selectionIndex=t,this._selection&&this._highlight(this._selection,!0,this._selectionIndex),this.selectionMode==2&&n){var i=n.collectionView;i||(i=this._cv);i&&(this._notifyCurrentChanged=!1,i.moveCurrentToPosition(t),this._notifyCurrentChanged=!0)}this.onSelectionChanged()},u.prototype._highlightCurrent=function(){var t,i,n;this.selectionMode!=0&&(t=this._selection,i=-1,t&&(n=t.collectionView,n||(n=this._cv),n&&(i=n.currentPosition),this._highlight(t,!0,i)))},u.prototype._highlight=function(i,r,f){var h,s;if(i=n.asType(i,t.Series,!0),this.selectionMode==1){var c=this.series.indexOf(i),e=i.hostElement,o=$(e);r?e.parentNode.appendChild(e):e.parentNode.insertBefore(e,e.parentNode.childNodes.item(c));this._highlightItems(o.find("rect"),u._CSS_SELECTION,r);this._highlightItems(o.find("ellipse"),u._CSS_SELECTION,r);this._highlightItems(o.find("polyline"),u._CSS_SELECTION,r);this._highlightItems(o.find("polygon"),u._CSS_SELECTION,r);this._highlightItems(o.find("line"),u._CSS_SELECTION,r);i.legendElement&&(h=$(i.legendElement),this._highlightItems(h.find("rect"),u._CSS_SELECTION,r),this._highlightItems(h.find("ellipse"),u._CSS_SELECTION,r),this._highlightItems(h.find("line"),u._CSS_SELECTION,r))}else if(this.selectionMode==2){var c=this.series.indexOf(i),e=i.hostElement,o=$(e);r?(e.parentNode.appendChild(e),s=$(i.getPlotElement(f)),s.length&&(this._highlightItems(s,u._CSS_SELECTION,r),this._highlightItems(s.find("line"),u._CSS_SELECTION,r),this._highlightItems(s.find("rect"),u._CSS_SELECTION,r))):(e.parentNode.insertBefore(e,e.parentNode.childNodes.item(c)),this._highlightItems(o.find("rect"),u._CSS_SELECTION,r),this._highlightItems(o.find("ellipse"),u._CSS_SELECTION,r),this._highlightItems(o.find("line"),u._CSS_SELECTION,r))}},u.prototype._highlightItems=function(t,i,r){var u;if(r)for(u=0;u<t.length;u++)n.addClass(t[u],i);else for(u=0;u<t.length;u++)n.removeClass(t[u],i)},u.prototype._parseMargin=function(t){var r={};if(n.isNumber(t)&&!isNaN(t))r.top=r.bottom=r.left=r.right=n.asNumber(t);else if(n.isString(t)){var s=n.asString(t),i=s.split(" ",4),u=NaN,f=NaN,e=NaN,o=NaN;i&&(i.length==4?(u=parseFloat(i[0]),o=parseFloat(i[1]),f=parseFloat(i[2]),e=parseFloat(i[3])):i.length==2?(u=f=parseFloat(i[0]),e=o=parseFloat(i[1])):i.length==1&&(u=f=e=o=parseFloat(i[1])),isNaN(u)||(r.top=u),isNaN(f)||(r.bottom=f),isNaN(e)||(r.left=e),isNaN(o)||(r.right=o))}return r},u._contains=function(n,t){return n&&t?t.x>=n.left&&t.x<=n.right&&t.y>=n.top&&t.y<=n.bottom:!1},u._toOADate=function(n){return(n.getTime()-new Date(1899,11,30).getTime())/864e5},u._fromOADate=function(n){var i=new Date(1899,11,30).getTime(),t=n-Math.floor(n);return n<0&&t&&(n=Math.floor(n)-t),new Date(n*864e5+i)},u._renderText=function(t,i,r,u,f,e,o){var s=t.measureString(i,e,o),h=r.x,c=r.y;switch(u){case 1:h-=.5*s.width;break;case 2:h-=s.width}switch(f){case 1:c+=.5*s.height;break;case 0:c+=s.height}t.drawString(i,new n.Point(h,c),e)},u._renderRotatedText=function(t,i,r,u,f,e,o,s){var h=t.measureString(i,s),c=r.x,l=r.y;switch(u){case 1:c-=.5*h.width;break;case 2:c-=h.width}switch(f){case 1:l+=.5*h.height;break;case 0:l+=h.height}t.drawStringRotated(i,new n.Point(c,l),e,o,s)},u._CSS_AXIS_X="wj-axis-x",u._CSS_AXIS_Y="wj-axis-y",u._CSS_LINE="wj-line",u._CSS_GRIDLINE="wj-gridline",u._CSS_TICK="wj-tick",u._CSS_LABEL="wj-label",u._CSS_LEGEND="wj-legend",u._CSS_HEADER="wj-header",u._CSS_FOOTER="wj-footer",u._CSS_TITLE="wj-title",u._CSS_SELECTION="wj-state-selected",u._CSS_PLOT_AREA="wj-plot-area",u._WIDTH=300,u._HEIGHT=200,u._SELECTION_THRESHOLD=15,u}(n.Control);t.FlexChart=f;var i=function(){function t(){this.stackAbs={};this._xvals=null}return t.prototype.analyse=function(i,r,u){var g,h,y,d,a,p,o,f,e,s,w,b,k;this.minY=NaN;this.maxY=NaN;this.minX=NaN;this.maxX=NaN;var c={},l={},v={};if(this.dataTypeX=null,this.dataTypeY=null,this._xvals=u,u!=null)for(g=u.length,h=0;h<g;h++)e=u[h],(isNaN(this.minX)||this.minX>e)&&(this.minX=e),(isNaN(this.maxX)||this.maxX<e)&&(this.maxX=e);for(h=0;h<i.length;h++)if(y=i[h],d=y.visibility,d!=3&&d!=2){if(a=y.getValues(1),a)for(this.dataTypeX||(this.dataTypeX=y.getDataType(1)),o=0;o<a.length;o++)f=a[o],t.isValid(f)&&((isNaN(this.minX)||this.minX>f)&&(this.minX=f),(isNaN(this.maxX)||this.maxX<f)&&(this.maxX=f));if(p=y.getValues(0),p)for(this.dataTypeY||(this.dataTypeY=y.getDataType(0)),isNaN(this.minX)&&(this.minX=0),isNaN(this.maxX)?this.maxX=p.length-1:a||(this.maxX=Math.max(this.maxX,p.length-1)),o=0;o<p.length;o++)f=p[o],e=a?n.asNumber(a[o],!0):u?n.asNumber(u[o],!0):o,t.isValid(f)&&((isNaN(this.minY)||this.minY>f)&&(this.minY=f),(isNaN(this.maxY)||this.maxY<f)&&(this.maxY=f),f>0?isNaN(c[e])?c[e]=f:c[e]+=f:isNaN(l[e])?l[e]=f:l[e]+=f,isNaN(v[e])?v[e]=Math.abs(f):v[e]+=Math.abs(f))}if(r==1){for(s in c)c[s]>this.maxY&&(this.maxY=c[s]);for(s in l)l[s]<this.minY&&(this.minY=l[s])}else if(r==2){this.minY=0;this.maxY=1;for(s in v)w=v[s],isFinite(w)&&w!=0&&(b=c[s],k=l[s],isFinite(b)&&(b=Math.min(b/w,this.maxY)),isFinite(k)&&(k=Math.max(k/w,this.minY)))}this.stackAbs=v},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getDataTypeX=function(){return this.dataTypeX},t.prototype.getDataTypeY=function(){return this.dataTypeY},t.prototype.getStackedAbsSum=function(n){var t=this.stackAbs[n];return isFinite(t)?t:0},t.prototype.getXVals=function(){return this._xvals},t.isValid=function(n){return isFinite(n)},t}(),o=function(){function t(){this._DEFAULT_WIDTH=2;this._DEFAULT_SYM_SIZE=10;this.clipping=!0}return t.prototype.clear=function(){this.seriesCount=0;this.seriesIndex=0},t.prototype.getNumOption=function(t,i){var r=this.chart.options;return(i&&(r=r?r[i]:null),r&&r[t])?n.asNumber(r[t],!0):undefined},t.prototype.cloneStyle=function(n,t){var r,i;if(!n)return n;r={};for(i in n)t&&t.indexOf(i)>=0||(r[i]=n[i]);return r},t.prototype.isValid=function(t,r){return i.isValid(t)&&i.isValid(r)&&f._contains(this.chart._plotRect,new n.Point(t,r))},t}(),w=function(u){function f(){u.apply(this,arguments);this.origin=0;this.width=.7;this.stackPos={};this.stackNeg={};this.stacking=0}return __extends(f,u),f.prototype.adjustLimits=function(t){this.dataInfo=t;var u=t.getMinX(),i=t.getMinY(),f=t.getMaxX(),r=t.getMaxY();return this.rotated?(this.origin>r?r=this.origin:this.origin<i&&(i=this.origin),new n.Rect(i,u-.5,r-i,f-u+1)):(this.origin>r?r=this.origin:this.origin<i&&(i=this.origin),new n.Rect(u-.5,i,f-u+1,r-i))},f.prototype.plotSeries=function(t,u,f,o,s,h,c){var b=this.chart.series.indexOf(o),nt=this.width,ht=nt/c,et,tt,st,w,it,ft,a,l,v,ut,d,rt,k,at,y,p,g;if(h==0&&(this.stackNeg={},this.stackPos={}),et=o.getValues(0),tt=o.getValues(1),et){tt||(tt=this.dataInfo.getXVals());var ot=o.style,ct=null,lt=null;if(ot&&(ot.fill&&(ct=ot.fill),ot.stroke&&(lt=ot.stroke)),ct||(ct=s._getColorLight(b)),lt||(lt=s._getColor(b)),t.fill=ct,t.stroke=lt,st=et.length,tt!=null&&(st=Math.min(st,tt.length)),w=this.origin,it=0,this.rotated){for(w<u.actualMin?w=u.actualMin:w>u.actualMax&&(w=u.actualMax),ft=u.convert(w),a=0;a<st;a++)if(l=tt?tt[a]:a,v=et[a],i.isValid(l)&&i.isValid(v))if(this.stacking!=0)ut=f.convert(l-.5*nt),d=f.convert(l+.5*nt),this.stacking==2&&(at=this.dataInfo.getStackedAbsSum(l),v=v/at),y=0,v>0?(y=isNaN(this.stackPos[l])?0:this.stackPos[l],rt=u.convert(y),k=u.convert(y+v),this.stackPos[l]=y+v):(y=isNaN(this.stackNeg[l])?0:this.stackNeg[l],rt=u.convert(y),k=u.convert(y+v),this.stackNeg[l]=y+v),p=new n.Rect(Math.min(rt,k),Math.min(ut,d),Math.abs(k-rt),Math.abs(d-ut)),g=new e(p),this.drawSymbol(t,p,o,a,new n.Point(k,p.top+.5*p.height)),o._setPointIndex(a,it),it++,g.tag=new r(b,a,y+v,l),this.hitTester.add(g,b);else{var ut=f.convert(l-.5*nt+h*ht),d=f.convert(l-.5*nt+(h+1)*ht),yt=u.convert(v),p=new n.Rect(Math.min(yt,ft),Math.min(ut,d),Math.abs(ft-yt),Math.abs(d-ut)),g=new e(p);this.drawSymbol(t,p,o,a,new n.Point(yt,p.top+.5*p.height));o._setPointIndex(a,it);it++;g.tag=new r(b,a,v,l);this.hitTester.add(g,b)}}else for(w<f.actualMin?w=f.actualMin:w>f.actualMax&&(w=f.actualMax),ft=f.convert(w),a=0;a<st;a++)if(l=tt?tt[a]:a,v=et[a],i.isValid(l)&&i.isValid(v))if(this.stacking!=0)rt=u.convert(l-.5*nt),k=u.convert(l+.5*nt),this.stacking==2&&(at=this.dataInfo.getStackedAbsSum(l),v=v/at),y=0,v>0?(y=isNaN(this.stackPos[l])?0:this.stackPos[l],ut=f.convert(y),d=f.convert(y+v),this.stackPos[l]=y+v):(y=isNaN(this.stackNeg[l])?0:this.stackNeg[l],ut=f.convert(y),d=f.convert(y+v),this.stackNeg[l]=y+v),p=new n.Rect(Math.min(rt,k),Math.min(ut,d),Math.abs(k-rt),Math.abs(d-ut)),g=new e(p),this.drawSymbol(t,p,o,a,new n.Point(p.left+.5*p.width,d)),o._setPointIndex(a,it),it++,g.tag=new r(b,a,l,y+v),this.hitTester.add(g,b);else{var rt=u.convert(l-.5*nt+h*ht),k=u.convert(l-.5*nt+(h+1)*ht),vt=f.convert(v),p=new n.Rect(Math.min(rt,k),Math.min(vt,ft),Math.abs(k-rt),Math.abs(ft-vt)),g=new e(p);this.drawSymbol(t,p,o,a,new n.Point(p.left+.5*p.width,vt));o._setPointIndex(a,it);it++;g.tag=new r(b,a,l,v);this.hitTester.add(g,b)}}},f.prototype.drawSymbol=function(n,i,r,u,f){var o=this,e;this.chart.itemFormatter?(n.startGroup(),e=new t.HitTestInfo(this.chart,f),e._chartElement=8,e._pointIndex=u,e._series=r,this.chart.itemFormatter(n,e,function(){o.drawDefaultSymbol(n,i,r)}),n.endGroup()):this.drawDefaultSymbol(n,i,r)},f.prototype.drawDefaultSymbol=function(n,t,i){n.drawRect(t.left,t.top,t.width,t.height,null,i.symbolStyle)},f}(o),a=function(f){function e(){f.call(this);this.hasSymbols=!1;this.hasLines=!0;this.stacking=0;this.stackPos={};this.stackNeg={};this.clipping=!1}return __extends(e,f),e.prototype.adjustLimits=function(t){this.dataInfo=t;var i=t.getMinX(),r=t.getMinY(),u=t.getMaxX(),f=t.getMaxY();return this.rotated?new n.Rect(r,i,f-r,u-i):new n.Rect(i,r,u-i,f-r)},e.prototype.plotSeries=function(f,e,o,h,c,l){var ct=n.asType(h,t.Series),w=this.chart.series.indexOf(h),it,b,yt,ut,st,pt,ht,tt,p,d,a,v,y;if(l==0&&(this.stackNeg={},this.stackPos={}),it=h.getValues(0),b=h.getValues(1),it){b||(b=this.dataInfo.getXVals());var ft=this.cloneStyle(h.style,["fill"]),g=it.length,lt=!0;b?g=Math.min(g,b.length):(lt=!1,b=new Array(g));var wt=this._DEFAULT_WIDTH,rt=null,et=null,ot=ct._getSymbolSize();rt===null&&(rt=c._getColorLight(w));et===null&&(et=c._getColor(w));f.stroke=et;f.strokeWidth=wt;f.fill=rt;var k=[],nt=[],bt=this.rotated,kt=this.stacking!=0,dt=this.stacking==2,at=this.chart.interpolateNulls,vt=!1;for(a=0;a<g;a++)v=lt?b[a]:a,y=it[a],i.isValid(v)&&i.isValid(y)?(kt&&(dt&&(yt=this.dataInfo.getStackedAbsSum(v),y=y/yt),y>=0?(ut=isNaN(this.stackPos[v])?0:this.stackPos[v],y=this.stackPos[v]=ut+y):(ut=isNaN(this.stackNeg[v])?0:this.stackNeg[v],y=this.stackNeg[v]=ut+y)),bt?(st=new r(w,a,y,v),pt=e.convert(y),y=o.convert(v),v=pt):(st=new r(w,a,v,y),v=e.convert(v),y=o.convert(y)),k.push(v),nt.push(y),ht=new s(new n.Point(v,y),.5*ot),ht.tag=st,this.hitTester.add(ht,w)):(vt=!0,at!==!0&&(k.push(undefined),nt.push(undefined)));if(tt=0,this.hasLines)if(f.fill=null,vt&&at!==!0){for(p=[],d=[],a=0;a<g;a++)k[a]===undefined?(p.length>1&&(f.drawLines(p,d,null,ft,this.chart._plotrectId),this.hitTester.add(new u(p,d),w),tt++),p=[],d=[]):(p.push(k[a]),d.push(nt[a]));p.length>1&&(f.drawLines(p,d,null,ft,this.chart._plotrectId),this.hitTester.add(new u(p,d),w),tt++)}else f.drawLines(k,nt,null,ft,this.chart._plotrectId),this.hitTester.add(new u(k,nt),w),tt++;if((this.hasSymbols||this.chart.itemFormatter)&&ot>0)for(f.fill=rt,a=0;a<g;a++)v=k[a],y=nt[a],this.isValid(v,y,e,o)&&(this._drawSymbol(f,v,y,ot,ct,a),h._setPointIndex(a,tt),tt++)}},e.prototype._drawSymbol=function(i,r,u,f,e,o){var h=this,s;this.chart.itemFormatter?(i.startGroup(),s=new t.HitTestInfo(this.chart,new n.Point(r,u)),s._chartElement=8,s._pointIndex=o,s._series=e,this.chart.itemFormatter(i,s,function(){h.hasSymbols&&h._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)}),i.endGroup()):this._drawDefaultSymbol(i,r,u,f,e.symbolMarker,e.symbolStyle)},e.prototype._drawDefaultSymbol=function(n,t,i,r,u,f){u==0?n.drawEllipse(t,i,.5*r,.5*r,null,f):u==1&&n.drawRect(t-.5*r,i-.5*r,r,r,null,f)},e}(o),b=function(e){function o(){e.call(this);this.stacking=0;this.stackPos={};this.stackNeg={}}return __extends(o,e),o.prototype.adjustLimits=function(t){this.dataInfo=t;var i=t.getMinX(),r=t.getMinY(),u=t.getMaxX(),f=t.getMaxY();return this.rotated?new n.Rect(r,i,f-r,u-i):new n.Rect(i,r,u-i,f-r)},o.prototype.plotSeries=function(t,e,o,h,c,l){var g=this.chart.series.indexOf(h),ht,tt,rt,at,p,b,nt,ni,d,it,ft,a,k,w;if(l==0&&(this.stackNeg={},this.stackPos={}),ht=h.getValues(0),tt=h.getValues(1),ht){rt=ht.length;tt||(tt=this.dataInfo.getXVals());at=!0;tt?tt.length<rt&&(rt=tt.length):(at=!1,tt=new Array(rt));var v=[],y=[],ct=[],lt=[],et=this.stacking!=0,ti=this.stacking==2,ut=this.rotated,kt=!1,dt=this.chart.interpolateNulls,ot=null,st=null,gt=this.chart._plotRect;for(w=0;w<rt;w++)p=at?tt[w]:w,b=ht[w],(ot===null||p>ot)&&(ot=p),(st===null||p<st)&&(st=p),i.isValid(p)&&i.isValid(b)?(nt=ut?o.convert(p):e.convert(p),et&&(ti&&(ni=this.dataInfo.getStackedAbsSum(p),b=b/ni),d=0,b>=0?(d=isNaN(this.stackPos[p])?0:this.stackPos[p],b=this.stackPos[p]=d+b):(d=isNaN(this.stackNeg[p])?0:this.stackNeg[p],b=this.stackNeg[p]=d+b),ut?(d<e.actualMin&&(d=e.actualMin),ct.push(e.convert(d)),lt.push(nt)):(ct.push(nt),d<o.actualMin&&(d=o.actualMin),lt.push(o.convert(d)))),ut?(it=e.convert(b),v.push(it),y.push(nt),f._contains(gt,new n.Point(it,nt))&&(ft=new s(new n.Point(it,nt),this._DEFAULT_SYM_SIZE),ft.tag=new r(g,w,b,p),this.hitTester.add(ft,g))):(it=o.convert(b),v.push(nt),y.push(it),f._contains(gt,new n.Point(nt,it))&&(ft=new s(new n.Point(nt,it),this._DEFAULT_SYM_SIZE),ft.tag=new r(g,w,p,b),this.hitTester.add(ft,g)))):(kt=!0,et||dt===!0||(v.push(undefined),y.push(undefined)));var vt=this._DEFAULT_WIDTH,yt=c._getColorLight(g),pt=c._getColor(g),wt=this.cloneStyle(h.style,["fill"]),bt=this.cloneStyle(h.style,["stroke"]);if(!et&&dt!==!0&&kt){for(a=[],k=[],w=0;w<rt;w++)v[w]===undefined?(a.length>1&&(t.stroke=pt,t.strokeWidth=vt,t.fill="none",t.drawLines(a,k,null,wt),this.hitTester.add(new u(a,k),g),ut?(a.push(e.convert(e.actualMin),e.convert(e.actualMin)),k.push(o.convert(o.actualMax),o.convert(o.actualMin))):(a.push(a[a.length-1],a[0]),k.push(o.convert(o.actualMin),o.convert(o.actualMin))),t.fill=yt,t.stroke="none",t.drawPolygon(a,k,null,bt)),a=[],k=[]):(a.push(v[w]),k.push(y[w]));a.length>1&&(t.stroke=pt,t.strokeWidth=vt,t.fill="none",t.drawLines(a,k,null,wt),this.hitTester.add(new u(a,k),g),ut?(a.push(e.convert(e.actualMin),e.convert(e.actualMin)),k.push(o.convert(o.actualMax),o.convert(o.actualMin))):(a.push(a[a.length-1],a[0]),k.push(o.convert(o.actualMin),o.convert(o.actualMin))),t.fill=yt,t.stroke="none",t.drawPolygon(a,k,null,bt))}else et?(v=v.concat(ct.reverse()),y=y.concat(lt.reverse())):ut?(v.push(e.convert(e.actualMin),e.convert(e.actualMin)),y.push(o.convert(ot),o.convert(st))):(v.push(e.convert(ot),e.convert(st)),y.push(o.convert(o.actualMin),o.convert(o.actualMin))),t.fill=yt,t.stroke="none",t.drawPolygon(v,y,null,bt),et?(v=v.slice(0,v.length-ct.length),y=y.slice(0,y.length-lt.length)):(v=v.slice(0,v.length-2),y=y.slice(0,y.length-2)),t.stroke=pt,t.strokeWidth=vt,t.fill="none",t.drawLines(v,y,null,wt),this.hitTester.add(new u(v,y),g);this._drawSymbols(t,h,g)}},o.prototype._drawSymbols=function(i,r,u){var h,e,o,c,f;if(this.chart.itemFormatter!=null)for(h=this.hitTester._map[u],e=0;e<h.length;e++)o=n.tryCast(h[e],s),o&&(c=o.tag,i.startGroup(),f=new t.HitTestInfo(this.chart,o.center),f._chartElement=8,f._pointIndex=c.pointIndex,f._series=r,this.chart.itemFormatter(i,f,function(){}),i.endGroup())},o}(o),k=function(r){function u(){r.call(this);this._MIN_SIZE=5;this._MAX_SIZE=30;this.hasLines=!1;this.hasSymbols=!0;this.clipping=!0}return __extends(u,r),u.prototype.adjustLimits=function(n,t){var a=this.getNumOption("minSize","bubble"),c,h,y,u,p,f,b,l;this._minSize=a?a:this._MIN_SIZE;c=this.getNumOption("maxSize","bubble");this._maxSize=c?c:this._MAX_SIZE;var v=this.chart.series,k=v.length,o=NaN,s=NaN;for(h=0;h<k;h++)if(y=v[h],u=y._getBindingValues(1),u)for(p=u.length,f=0;f<p;f++)i.isValid(u[f])&&((isNaN(o)||u[f]<o)&&(o=u[f]),(isNaN(s)||u[f]>s)&&(s=u[f]));this._minValue=o;this._maxValue=s;var e=r.prototype.adjustLimits.call(this,n,t),d=t.width-this._maxSize,w=d/e.width;return e.left-=this._maxSize*.5/w,e.width+=this._maxSize/w,b=t.height-this._maxSize,l=b/e.height,e.top-=this._maxSize*.5/l,e.height+=this._maxSize/l,e},u.prototype._drawSymbol=function(r,u,f,e,o,s){var v=this,l=o._getItem(s),c,e,a,h;l&&(c=o._getBinding(1),c&&(e=l[c],i.isValid(e)&&(a=this._minValue==this._maxValue?1:Math.sqrt((e-this._minValue)/(this._maxValue-this._minValue)),e=this._minSize+(this._maxSize-this._minSize)*a,this.chart.itemFormatter?(h=new t.HitTestInfo(this.chart,new n.Point(u,f)),h._chartElement=8,h._pointIndex=s,h._series=o,r.startGroup(),this.chart.itemFormatter(r,h,function(){v._drawDefaultSymbol(r,u,f,e,o.symbolMarker,o.symbolStyle)}),r.endGroup()):this._drawDefaultSymbol(r,u,f,e,o.symbolMarker,o.symbolStyle))))},u}(a),d=function(u){function f(){u.apply(this,arguments);this.isCandle=!0}return __extends(f,u),f.prototype.adjustLimits=function(t){var o,s,f,p;this.dataInfo=t;var h=t.getMinX(),r=t.getMinY(),w=t.getMaxX(),e=t.getMaxY(),c=this.chart.series,b=c.length;for(o=0;o<b;o++){var u=c[o],l=u._getBinding(1),a=u._getBinding(2),v=u._getBinding(3),y=u._getLength();if(y)for(s=0;s<y;s++)f=u._getItem(s),f&&(p=[l?f[l]:null,a?f[a]:null,v?f[v]:null],p.forEach(function(n){i.isValid(n)&&((isNaN(r)||n<r)&&(r=n),(isNaN(e)||n>e)&&(e=n))}))}return new n.Rect(h,r,w-h,e-r)},f.prototype.plotSeries=function(r,u,f,e,o){var ht=this,c=n.asType(e,t.Series),y=this.chart.series.indexOf(e),b=e.getValues(0),l=e.getValues(1),s,a,h,tt,v;if(b){l||(l=this.dataInfo.getXVals());var vt=this.cloneStyle(e.style,["fill"]),p=b.length,it=!0;l?p=Math.min(p,l.length):(it=!1,l=new Array(p));var ct=this._DEFAULT_WIDTH,w=null,k=null,rt=c._getSymbolSize();w===null&&(w=o._getColorLight(y));k===null&&(k=o._getColor(y));r.stroke=k;r.strokeWidth=ct;r.fill=w;var ut=c._getBinding(1),ft=c._getBinding(2),et=c._getBinding(3),lt=u.actualMin,at=u.actualMax,ot=0;for(s=0;s<p;s++)if(a=c._getItem(s),a&&(h=it?l[s]:s,i.isValid(h)&&lt<=h&&h<=at)){var d=b[s],st=ut?a[ut]:null,g=ft?a[ft]:null,nt=et?a[et]:null;r.startGroup();tt=g<nt?"transparent":w;this.chart.itemFormatter?(v=new t.HitTestInfo(this.chart,new n.Point(u.convert(h),f.convert(d))),v._chartElement=8,v._pointIndex=s,v._series=c,this.chart.itemFormatter(r,v,function(){ht._drawSymbol(r,u,f,y,s,tt,rt,h,d,st,g,nt)})):this._drawSymbol(r,u,f,y,s,tt,rt,h,d,st,g,nt);r.endGroup();e._setPointIndex(s,ot);ot++}}},f.prototype._drawSymbol=function(t,u,f,o,s,h,c,l,a,v,y,p){var d=new r(o,s,l,a),b,w,k;l=u.convert(l);this.isCandle?(w=null,k=null,i.isValid(y)&&i.isValid(p)&&(t.fill=h,y=f.convert(y),p=f.convert(p),w=Math.min(y,p),k=w+Math.abs(y-p),t.drawRect(l-.5*c,w,c,k-w),b=new e(new n.Rect(l-.5*c,w,c,k-w)),b.tag=d,this.hitTester.add(b,o)),i.isValid(a)&&(a=f.convert(a),w!==null&&t.drawLine(l,w,l,a)),i.isValid(v)&&(v=f.convert(v),k!==null&&t.drawLine(l,k,l,v))):(i.isValid(a)&&i.isValid(v)&&(a=f.convert(a),v=f.convert(v),t.drawLine(l,v,l,a),b=new e(new n.Rect(l-.5*c,Math.min(a,v),c,Math.abs(a-v))),b.tag=d,this.hitTester.add(b,o)),i.isValid(y)&&(y=f.convert(y),t.drawLine(l-.5*c,y,l,y)),i.isValid(p)&&(p=f.convert(p),t.drawLine(l,p,l+.5*c,p)))},f}(o),g=function(){function t(n,t,i,r){this._r=n;this._g=t;this._b=i;this._a=r}return Object.defineProperty(t.prototype,"a",{get:function(){return this._a},set:function(t){t!=this._a&&(this._a=n.asNumber(t))},enumerable:!0,configurable:!0}),t.prototype.toString=function(){var n=t.clamp_css_byte(this._a*255);return"rgba("+this._r.toString()+","+this._g.toString()+","+this._b.toString()+","+this._a.toString()+")"},t.parse=function(n){var u=n.replace(/ /g,"").toLowerCase(),i,f,h;if(u[0]==="#")return u.length===4?(i=parseInt(u.substr(1),16),!(i>=0&&i<=4095))?null:new t((i&3840)>>4|(i&3840)>>8,i&240|(i&240)>>4,i&15|(i&15)<<4,1):u.length===7?(i=parseInt(u.substr(1),16),!(i>=0&&i<=16777215))?null:new t((i&16711680)>>16,(i&65280)>>8,i&255,1):null;if(f=u.indexOf("("),h=u.indexOf(")"),f!==-1&&h+1===u.length){var v=u.substr(0,f),r=u.substr(f+1,h-(f+1)).split(","),o=1;switch(v){case"rgba":if(r.length!==4)return null;o=t.parse_css_float(r.pop());case"rgb":return r.length!==3?null:new t(t.parse_css_int(r[0]),t.parse_css_int(r[1]),t.parse_css_int(r[2]),o);case"hsla":if(r.length!==4)return null;o=t.parse_css_float(r.pop());case"hsl":if(r.length!==3)return null;var c=(parseFloat(r[0])%360+360)%360/360,l=this.parse_css_float(r[1]),e=this.parse_css_float(r[2]),s=e<=.5?e*(l+1):e+l-e*l,a=e*2-s;return new t(t.clamp_css_byte(t.css_hue_to_rgb(a,s,c+1/3)*255),t.clamp_css_byte(t.css_hue_to_rgb(a,s,c)*255),t.clamp_css_byte(t.css_hue_to_rgb(a,s,c-1/3)*255),o);default:return null}}return null},t.clamp_css_byte=function(n){return n=Math.round(n),n<0?0:n>255?255:n},t.clamp_css_float=function(n){return n<0?0:n>1?1:n},t.parse_css_int=function(n){return n[n.length-1]==="%"?t.clamp_css_byte(parseFloat(n)/100*255):t.clamp_css_byte(parseInt(n))},t.parse_css_float=function(n){return n[n.length-1]==="%"?t.clamp_css_float(parseFloat(n)/100):t.clamp_css_float(parseFloat(n))},t.css_hue_to_rgb=function(n,t,i){return(i<0?i+=1:i>1&&(i-=1),i*6<1)?n+(t-n)*i*6:i*2<1?t:i*3<2?n+(t-n)*(2/3-i)*6:n},t}(),r=function(){function n(n,t,i,r){this._seriesIndex=n;this._pointIndex=t;this._dataX=i;this._dataY=r}return Object.defineProperty(n.prototype,"seriesIndex",{get:function(){return this._seriesIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataX",{get:function(){return this._dataX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"dataY",{get:function(){return this._dataY},enumerable:!0,configurable:!0}),n}(),v;(function(n){n[n.X=0]="X";n[n.Y=1]="Y";n[n.XY=2]="XY"})(v||(v={}));var e=function(){function t(n){this._rect=n}return t.prototype.contains=function(n){var t=this._rect;return n.x>=t.left&&n.x<=t.right&&n.y>=t.top&&n.y<=t.bottom},t.prototype.pointDistance=function(n,t,i){var r=t.x-n.x,u=t.y-n.y;return i==0?Math.abs(r):i==1?Math.abs(u):Math.sqrt(r*r+u*u)},t.prototype.distance=function(t){var r=2,i;return t.x===null?r=1:t.y===null&&(r=0),i=this._rect,t.x<i.left?t.y<i.top?this.pointDistance(t,new n.Point(i.left,i.top),r):t.y>i.bottom?this.pointDistance(t,new n.Point(i.left,i.bottom),r):r==1?0:i.left-t.x:t.x>i.right?t.y<i.top?this.pointDistance(t,new n.Point(i.right,i.top),r):t.y>i.bottom?this.pointDistance(t,new n.Point(i.right,i.bottom),r):r==1?0:t.x-i.right:r==0?0:t.y<i.top?i.top-t.y:t.y>i.bottom?t.y-i.bottom:0},t}(),s=function(){function n(n,t){this._center=n;this._rad=t;this._rad2=t*t}return Object.defineProperty(n.prototype,"center",{get:function(){return this._center},enumerable:!0,configurable:!0}),n.prototype.contains=function(n){var t=this._center.x-n.x,i=this._center.y-n.y;return t*t+i*i<=this._rad2},n.prototype.distance=function(n){var t=n.x!==null?this._center.x-n.x:0,i=n.y!==null?this._center.y-n.y:0,r=t*t+i*i;return r<=this._rad2?0:Math.sqrt(r)-this._rad},n}(),u=function(){function t(n,t){this._x=[];this._y=[];this._x=n;this._y=t}return t.prototype.contains=function(){return!1},t.prototype.distance=function(t){for(var u,r=NaN,i=0;i<this._x.length-1;i++)u=f._dist(t,new n.Point(this._x[i],this._y[i]),new n.Point(this._x[i+1],this._y[i+1])),(isNaN(r)||u<r)&&(r=u);return r},t}(),y=function(){function n(){}return n}(),nt=function(){function t(){this._map={}}return t.prototype.add=function(n,t){this._map[t]||(this._map[t]=[]);n.tag||(n.tag=new r(t,NaN,NaN,NaN));this._map[t].push(n)},t.prototype.clear=function(){this._map={}},t.prototype.hitTest=function(t,i){var f,r,l,e,a,o,s,c,h;typeof i=="undefined"&&(i=!1);f=null;r=Number.MAX_VALUE;for(l in this._map)if(e=this._map[l],e){for(a=e.length,o=a-1;o>=0;o--)if((s=e[o],!n.tryCast(s,u)||i)&&(c=s.distance(t),c<r&&(r=c,f=s,r==0)))break;if(r==0)break}return f?(h=new y,h.area=f,h.distance=r,h):null},t.prototype.hitTestSeries=function(n,t){var f=null,i=Number.MAX_VALUE,e=this._map[t],h,r,o,s,u;if(e)for(h=e.length,r=h-1;r>=0;r--)if(o=e[r],s=o.distance(n),s<i&&(i=s,f=o,i==0))break;return f?(u=new y,u.area=f,u.distance=i,u):null},t}(),tt=function(){function t(){this._keys={};this._keys.seriesName=null;this._keys.pointIndex=null;this._keys.x=null;this._keys.y=null}return t.prototype.replace=function(t,i){var r=this;return n.format(t,{},function(n,t,u){return r.getValue(t,i,u)})},t.prototype.getValue=function(t,i,r){return t=="seriesName"&&i.series?i.series.name:t=="pointIndex"&&i.pointIndex!==null?i.pointIndex.toFixed():t=="y"&&i.series?r?n.Globalize.format(i.y,r):i._yfmt:t=="x"&&i.series?r?n.Globalize.format(i.x,r):i._xfmt:""},t}(),p=function(t){function i(){t.call(this);this._content="<b>{seriesName}<\/b><br/>{x} {y}";this._threshold=15}return __extends(i,t),Object.defineProperty(i.prototype,"content",{get:function(){return this._content},set:function(n){n!=this._content&&(this._content=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"threshold",{get:function(){return this._threshold},set:function(t){t!=this._threshold&&(this._threshold=n.asNumber(t))},enumerable:!0,configurable:!0}),i}(n.Tooltip);t.ChartTooltip=p})(n.chart||(n.chart={}));var t=n.chart})(wijmo||(wijmo={})),function(n){(function(t){"use strict";var f,s,e,o,i,r,u;(function(n){n[n.None=0]="None";n[n.Left=1]="Left";n[n.Top=2]="Top";n[n.Right=3]="Right";n[n.Bottom=4]="Bottom"})(t.Position||(t.Position={}));f=t.Position,function(n){n[n.X=0]="X";n[n.Y=1]="Y"}(t.AxisType||(t.AxisType={}));s=t.AxisType,function(n){n[n.None=0]="None";n[n.Outside=1]="Outside";n[n.Inside=2]="Inside";n[n.Cross=3]="Cross"}(t.TickMark||(t.TickMark={}));e=t.TickMark;o=function(){function i(n){this._GRIDLINE_WIDTH=.25;this._LINE_WIDTH=1;this._TICK_WIDTH=1;this._TICK_HEIGHT=4;this._TICK_OVERLAP=1;this._TICK_LABEL_DISTANCE=4;this._majorGrid=!1;this._labels=!0;this._axisLine=!0;this._isTimeAxis=!1;this._fgColor="black";this._position=n;n==4||n==2?this._axisType=0:(this._axisType=1,this._axisLine=!1)}return Object.defineProperty(i.prototype,"actualMin",{get:function(){return this._actualMin},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"actualMax",{get:function(){return this._actualMax},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"reversed",{get:function(){return this._reversed},set:function(t){this._reversed=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(t){t!=this._position&&(this._position=n.asEnum(t,f,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorUnit",{get:function(){return this._majorUnit},set:function(t){t!=this._majorUnit&&(this._majorUnit=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(t){t!=this._title&&(this._title=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this._format&&(this._format=n.asString(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorGrid",{get:function(){return this._majorGrid},set:function(t){t!=this._majorGrid&&(this._majorGrid=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"majorTickMarks",{get:function(){return this._majorTickMarks},set:function(t){t!=this._majorTickMarks&&(this._majorTickMarks=n.asEnum(t,e,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"axisLine",{get:function(){return this._axisLine},set:function(t){t!=this._axisLine&&(this._axisLine=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"labels",{get:function(){return this._labels},set:function(t){t!=this._labels&&(this._labels=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._getHeight=function(i){var c=t.FlexChart._CSS_LABEL,p=t.FlexChart._CSS_TITLE,v=this._actualMax-this._actualMin,l=this._nicePrecision(v),a,e,h,f,r,o,y,s,u;if((l<0||l>15)&&(l=0),a=.1*v,e=this._lbls,this.labels)if(e!=null&&e.length>0)for(this._annoSize=new n.Size,h=0;h<e.length;h++)r=i.measureString(e[h],c),r.width>this._annoSize.width&&(this._annoSize.width=r.width),r.height>this._annoSize.height&&(this._annoSize.height=r.height);else f=this._formatValue(this._actualMin-a),r=i.measureString(f,c),this._annoSize=r,f=this._formatValue(this._actualMax+a),r=i.measureString(f,c),r.width>this._annoSize.width&&(this._annoSize.width=r.width),r.height>this._annoSize.height&&(this._annoSize.height=r.height);else this._annoSize=new n.Size;return o=2,o+=this._axisType==0?this._annoSize.height:this._annoSize.width+this._TICK_LABEL_DISTANCE+2,y=this._TICK_HEIGHT,s=this._TICK_OVERLAP,u==1?s=1:u==2?s=-1:u==3&&(s=0),u=this.majorTickMarks,(u===undefined||u===null)&&(u=1),u!=0&&(o+=.5*(1+s)*y),this._title&&(f=this._title,this._szTitle=i.measureString(f,p),o+=this._szTitle.height),i.fontSize=null,o},i.prototype._updateActualLimits=function(n,t,i,r,u){typeof r=="undefined"&&(r=null);typeof u=="undefined"&&(u=null);this._isTimeAxis=n==4;var f=this._chart.chartType;r&&!this._isTimeAxis&&f!=0&&f!=1&&(t-=.5,i+=.5);this._actualMin=this._min!=null?this._min:t;this._actualMax=this._max!=null?this._max:i;this._lbls=r;this._values=u;this._actualMin==this._actualMax&&(this._actualMin-=.5,this._actualMax+=.5)},i.prototype._layout=function(t,i){var r=this.axisType==1,u=this._position!=2&&this._position!=3;this._plotrect=i;this._axrect=r?new n.Rect(t.left,t.top,t.height,t.width):t},i.prototype._render=function(i){var l,ft,et,s,f,e,r,b,ot,h,u,y;if(this.position!=0){var k=t.FlexChart._CSS_LABEL,d=t.FlexChart._CSS_TITLE,g=t.FlexChart._CSS_LINE,st=t.FlexChart._CSS_GRIDLINE,c=t.FlexChart._CSS_TICK,ht=this.axisType==1,nt=this._position!=2&&this._position!=3,rt=this._actualMax-this._actualMin;if(!isNaN(rt)){l=this._calcMajorUnit();l==0&&(l=this._niceTickNumber(rt)*.1);var a=Math.floor(rt/l)+1,p=[],v=[],tt=Math.floor(this._actualMin/l)*l;tt<this._actualMin&&(tt+=l);var it=this._fgColor,ut=!1;if(this._lbls&&this._lbls.length>0)for(ut=!0,v=this._lbls,e=0;e<v.length;e++)p.push(e);else this._isTimeAxis?this._createTimeLabels(tt,a,p,v):this._createLabels(tt,a,l,p,v);a=Math.min(p.length,v.length);i.textFill=it;var ct=this._TICK_HEIGHT,lt=this._TICK_WIDTH,w=this._TICK_OVERLAP,at=it,o=this.majorTickMarks;for((o===undefined||o===null)&&(o=1),ft=this._GRIDLINE_WIDTH,et=it,o==1?w=1:o==2?w=-1:o==3&&(w=0),s=.5*(w-1)*ct,f=.5*(1+w)*ct,e=0;e<a;e++)r=p[e],b=v[e],r>=this._actualMin&&r<=this._actualMax&&(ot=r!=this._actualMin&&r!=this._actualMin&&this.majorGrid,ht?(h=this.convert(r),i.stroke=et,i.strokeWidth=ft,ot&&i.drawLine(this._plotrect.left,h,this._plotrect.right,h,st),i.stroke=at,i.strokeWidth=lt,nt?(o!=0&&i.drawLine(this._axrect.right-s,h,this._axrect.right-f,h,c),this.labels&&t.FlexChart._renderText(i,b,new n.Point(this._axrect.right-f-this._TICK_LABEL_DISTANCE,h),2,1,k)):(o!=0&&i.drawLine(this._axrect.left+s,h,this._axrect.left+f,h,c),this.labels&&t.FlexChart._renderText(i,b,new n.Point(this._axrect.left+f+this._TICK_LABEL_DISTANCE,h),0,1,k))):(u=this.convert(r),i.stroke=et,i.strokeWidth=ft,ot&&i.drawLine(u,this._plotrect.top,u,this._plotrect.bottom,st),i.stroke=at,i.strokeWidth=lt,nt?(this.labels&&t.FlexChart._renderText(i,b,new n.Point(u,this._axrect.top+f),1,0,k),o!=0&&(ut?(r=r-.5,r>=this._actualMin&&r<=this._actualMax&&(u=this.convert(r),i.drawLine(u,this._axrect.top+s,u,this._axrect.top+f,c)),e==a-1&&(r=r+1,r>=this._actualMin&&r<=this._actualMax&&(u=this.convert(r),i.drawLine(u,this._axrect.top+s,u,this._axrect.top+f,c)))):(u=this.convert(r),i.drawLine(u,this._axrect.top+s,u,this._axrect.top+f,c)))):(this.labels&&t.FlexChart._renderText(i,b,new n.Point(u,this._axrect.bottom-f),1,2,k),o!=0&&(ut?(r=r-.5,r>=this._actualMin&&r<=this._actualMax&&(u=this.convert(r),i.drawLine(u,this._axrect.bottom-s,u,this._axrect.bottom-f,c)),(e=a-1)&&(r=r+1,r>=this._actualMin&&r<=this._actualMax&&(u=this.convert(r),i.drawLine(u,this._axrect.bottom-s,u,this._axrect.bottom-f,c)))):(u=this.convert(r),i.drawLine(u,this._axrect.bottom-s,u,this._axrect.bottom-f,c))))));i.stroke=it;i.fontSize=null;ht?nt?(this._title&&(y=new n.Point(this._axrect.left+this._szTitle.height*.5,this._axrect.top+.5*this._axrect.height),t.FlexChart._renderRotatedText(i,this._title,y,1,1,y,-90,d)),this.axisLine&&i.drawLine(this._axrect.right,this._axrect.top,this._axrect.right,this._axrect.bottom,g)):(this._title&&(y=new n.Point(this._axrect.right-this._szTitle.height*.5,this._axrect.top+.5*this._axrect.height),t.FlexChart._renderRotatedText(i,this._title,y,1,1,y,90,d)),this.axisLine&&i.drawLine(this._axrect.left,this._axrect.top,this._axrect.left,this._axrect.bottom,g)):nt?(this.axisLine&&i.drawLine(this._axrect.left,this._axrect.top,this._axrect.right,this._axrect.top,g),this._title&&t.FlexChart._renderText(i,this._title,new n.Point(this._axrect.left+.5*this._axrect.width,this._axrect.bottom),1,2,d)):(this.axisLine&&i.drawLine(this._axrect.left,this._axrect.bottom,this._axrect.right,this._axrect.bottom,g),this._title&&t.FlexChart._renderText(i,this._title,new n.Point(this._axrect.left+.5*this._axrect.width,this._axrect.top),1,0,d));i.stroke=null;i.fontSize=null;i.textFill=null;i.strokeWidth=null}}},i.prototype.convert=function(n){if(this._actualMax==this._actualMin)return 0;var r=this._axrect.left,t=this._axrect.width,u=this._axrect.top,i=this._axrect.height;return this._reversed?this.axisType==1?u+(n-this._actualMin)/(this._actualMax-this._actualMin)*i:r+t-(n-this._actualMin)/(this._actualMax-this._actualMin)*t:this.axisType==1?u+i-(n-this._actualMin)/(this._actualMax-this._actualMin)*i:r+(n-this._actualMin)/(this._actualMax-this._actualMin)*t},i.prototype.convertBack=function(n){if(this._actualMax==this._actualMin)return 0;var r=this._plotrect.left,i=this._plotrect.width,u=this._plotrect.top,f=this._plotrect.height,t=this._actualMax-this._actualMin;return this._reversed?this.axisType==1?this._actualMin+(n-u)*t/f:this._actualMin+(r+i-n)*t/i:this.axisType==1?this._actualMax-(n-u)*t/f:this._actualMin+(n-r)*t/i},Object.defineProperty(i.prototype,"axisType",{get:function(){return this._axisType},enumerable:!0,configurable:!0}),i.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},i.prototype._createLabels=function(n,t,i,r,u){for(var f=0;f<t;f++){var o=(n+i*f).toFixed(14),e=parseFloat(o),s=this._formatValue(e);r.push(e);u.push(s)}},i.prototype._createTimeLabels=function(n,i,f,e){var y=this._actualMin,p=this._actualMax,l=t.FlexChart._fromOADate(this._actualMin),w=t.FlexChart._fromOADate(this._actualMax),d=this._format,g=this._getAnnoNumber(this._axisType==1),nt=86400*(this._actualMax-this._actualMin)/g,tt=new r(nt*r.TicksPerSecond),c=isNaN(this._majorUnit)?u.NiceTimeSpan(tt,d):r.fromDays(this._majorUnit),it=c.Ticks,k=u.RoundTime(y,c.TotalDays,!1),b,s,rt,a,v,o,h;if(isFinite(k)&&(y=k),b=u.RoundTime(p,c.TotalDays,!0),isFinite(b)&&(p=b),s=t.FlexChart._fromOADate(y),rt=t.FlexChart._fromOADate(p),c.TotalDays>=365&&isNaN(this._majorUnit))for(s=new Date(l.getFullYear(),1,1),s<l&&s.setFullYear(s.getFullYear()+1),a=c.TotalDays/365,a=a-a%1,o=s;o<=w;o.setFullYear(o.getFullYear()+a))h=t.FlexChart._toOADate(o),f.push(h),e.push(this._formatValue(h));else if(c.TotalDays>=30&&isNaN(this._majorUnit))for(s=new Date(l.getFullYear(),l.getMonth(),1),s<l&&s.setMonth(s.getMonth()+1),v=c.TotalDays/30,v=v-v%1,o=s;o<=w;o.setMonth(o.getMonth()+v))h=t.FlexChart._toOADate(o),f.push(h),e.push(this._formatValue(h));else for(o=s;o<=w;o=new Date(o.getTime()+it/r.TicksPerSecond*1e3))h=t.FlexChart._toOADate(o),f.push(h),e.push(this._formatValue(h))},i.prototype._formatValue=function(i){return this._isTimeAxis?n.Globalize.format(t.FlexChart._fromOADate(i),this._format):n.Globalize.format(i,this._format)},i.prototype._calcMajorUnit=function(){var n=this._majorUnit;if(isNaN(n)){var i=this._actualMax-this._actualMin,r=this._nicePrecision(i),t=i/this._getAnnoNumber(this.axisType==1);n=this._niceNumber(2*t,-r,!0);n<t&&(n=this._niceNumber(t,-r+1,!1));n<t&&(n=this._niceTickNumber(t))}return n},i.prototype._getAnnoNumber=function(n){var i=n?this._annoSize.height:this._annoSize.width,r=n?this._axrect.height:this._axrect.width,t;return i>0&&r>0?(t=Math.floor(r/i),t<=0&&(t=1),t):10},i.prototype._nicePrecision=function(n){var i,t,r;return n<=0||isNaN(n)?0:(i=Math.log(n)/Math.LN10,t=i>=0?Math.floor(i):Math.ceil(i),r=n/Math.pow(10,t),r<3&&(t=-t+1,r=n/Math.pow(10,t),r<3&&(t=t+1)),t)},i.prototype._niceTickNumber=function(n){if(n==0)return n;n<0&&(n=-n);var u=Math.log(n)/Math.LN10,r=Math.floor(u),i=n/Math.pow(10,r),t=10;return i<=1?t=1:i<=2?t=2:i<=5&&(t=5),t*Math.pow(10,r)},i.prototype._niceNumber=function(n,t,i){if(n==0)return n;n<0&&(n=-n);var u=n/Math.pow(10,t),r=10;return i?u<1.5?r=1:u<3?r=2:u<4.5?r=4:u<7&&(r=5):u<=1?r=1:u<=2?r=2:u<=5&&(r=5),r*Math.pow(10,t)},i}();t.Axis=o,function(n){n[n.tickf7=-7]="tickf7";n[n.tickf6=-6]="tickf6";n[n.tickf5=-5]="tickf5";n[n.tickf4=-4]="tickf4";n[n.tickf3=-3]="tickf3";n[n.tickf2=-2]="tickf2";n[n.tickf1=-1]="tickf1";n[n.second=1]="second";n[n.minute=n.second*60]="minute";n[n.hour=n.minute*60]="hour";n[n.day=n.hour*24]="day";n[n.week=n.day*7]="week";n[n.month=n.day*31]="month";n[n.year=n.day*365]="year";n[n.maxtime=Number.MAX_VALUE]="maxtime"}(i||(i={}));r=function(){function n(n){this.ticks=n}return Object.defineProperty(n.prototype,"Ticks",{get:function(){return this.ticks},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalSeconds",{get:function(){return this.ticks/1e7},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TotalDays",{get:function(){return this.ticks/864e9},enumerable:!0,configurable:!0}),n.fromSeconds=function(t){return new n(t*1e7)},n.fromDays=function(t){return new n(t*864e9)},n.TicksPerSecond=1e7,n}();u=function(){function u(i){n.isDate(i)?this.init(i):n.isNumber(i)&&this.init(t.FlexChart._fromOADate(i))}return u.prototype.init=function(n){this.year=n.getFullYear();this.month=n.getMonth();this.day=n.getDate();this.hour=n.getHours();this.minute=n.getMinutes();this.second=n.getSeconds()},u.prototype.getTimeAsDateTime=function(){var n=0,t=0,r=0,i;return this.hour>=24&&(this.hour-=24,this.day+=1),this.day<1?(t=-1-this.day,this.day=1):this.day>28&&(t=this.day-28,this.day=28),this.month<0?(n=-1-this.day,this.month=1):this.month>11&&(n=this.month-12,this.month=12),this.second>59&&(r=this.second-59,this.second=59),i=0,this.minute>59&&(i=this.minute-59,this.minute=59),new Date(this.year,this.month,this.day,this.hour,this.minute,this.second)},u.prototype.getTimeAsDouble=function(){return t.FlexChart._toOADate(this.getTimeAsDateTime())},u.tround=function(n,t,i){var r=n/t*t;return r=r-r%1,i&&r!=n&&(t=t-t%1,r+=t),r},u.RoundTime=function(n,t,r){var e=t*86400,f;if(e>0)return(f=new u(n),e<i.minute)?(f.second=this.tround(f.second,e,r),f.getTimeAsDouble()):(f.second=0,e<i.hour)?(e/=i.minute,f.minute=this.tround(f.minute,e,r),f.getTimeAsDouble()):(f.minute=0,e<i.day)?(e/=i.hour,f.hour=this.tround(f.hour,e,r),f.getTimeAsDouble()):(f.hour=0,e<i.month)?(e/=i.day,f.day=this.tround(f.day,e,r),f.getTimeAsDouble()):(f.day=1,e<i.year)?(e/=i.month,f.month!=1&&(f.month=this.tround(f.month,e,r)),f.getTimeAsDouble()):(f.month=1,e/=i.year,f.year=this.tround(f.year,e,r),f.getTimeAsDouble());var h=n,s=h-e,o=s/t*t;return r&&o!=s&&(o+=t),e+o},u.TimeSpanFromTmInc=function(n){var u=r.fromSeconds(1),t,f;if(n!=i.maxtime)if(n>-1)u=r.fromSeconds(n);else{for(t=n,f=1,t+=7;t>0;)f*=10,t--;u=new r(f)}return u},u.manualTimeInc=function(n){var t=1,r,f,u,e;if(n==null||n.length==0)return t;if(r=n.indexOf("f"),r>=0){if(f=-1,r>0&&n.substr(r-1,1)=="%")f=-1;else for(u=1;u<6;u++){if(r+u>=n.length)break;if(e=n.substr(r+u,1),e!="f")break;f--}t=f}else n.indexOf("s")>=0?t=1:n.indexOf("m")>=0?t=i.minute:n.indexOf("h")>=0||n.indexOf("H")?t=i.hour:n.indexOf("d")>=0?t=i.day:n.indexOf("M")>=0?t=i.month:n.indexOf("y")>=0&&(t=i.year);return t},u.getNiceInc=function(n,t,i){for(var u,r=0;r<n.length;r++)if(u=n[r]*i,t<=u)return u;return 0},u.NiceTimeSpan=function(n,t){var e=1,o,f,s;if(t!=null&&t.length>0&&(e=u.manualTimeInc(t)),o=0,f=0,e<1&&n.TotalSeconds<10){for(o=n.Ticks,f=u.TimeSpanFromTmInc(e).Ticks;o>10*f;)f*=10;return s=f,o>s&&(s*=2),o>s&&(s=5*f),o>s&&(s=10*f),new r(s)}if(o=Math.ceil(n.TotalSeconds),o==0)return u.TimeSpanFromTmInc(e);if(f=1,e<i.minute){if(o<i.minute&&(f=u.getNiceInc([1,2,5,10,15,30],o,e),f!=0))return r.fromSeconds(f);e=i.minute}if(e<i.hour){if(o<i.hour&&(f=u.getNiceInc([1,2,5,10,15,30],o,e),f!=0))return r.fromSeconds(f);e=i.hour}if(e<i.day){if(o<i.day&&(f=u.getNiceInc([1,3,6,12],o,e),f!=0))return r.fromSeconds(f);e=i.day}if(e<i.month){if(o<i.month&&(f=u.getNiceInc([1,2,7,14],o,e),f!=0))return r.fromSeconds(f);e=i.month}if(e<i.year){if(o<i.year&&(f=u.getNiceInc([1,2,3,4,6],o,e),f!=0))return r.fromSeconds(f);e=i.year}return f=100*i.year,o<f&&(f=u.getNiceInc([1,2,5,10,20,50],o,e),f==0&&(f=100*i.year)),r.fromSeconds(f)},u.NiceTimeUnit=function(n,t){var i=r.fromDays(n);return i=u.NiceTimeSpan(i,t),i.TotalDays},u.GetTimeDefaultFormat=function(n,t){var e;if(isNaN(n)||isNaN(t))return"";var u="s",o=r.fromDays(n-t),f=o.TotalSeconds;if(f>2*i.year)u="yyyy";else if(f>i.year)u="MMM yy";else if(f>3*i.month)u="MMM";else if(f>2*i.week)u="MMM d";else if(f>2*i.day)u="ddd d";else if(f>i.day)u="ddd H:mm";else if(f>i.hour)u="H:mm";else if(f>=1)u="H:mm:ss";else if(f>0)for(e=o.Ticks,u="s.";e<r.TicksPerSecond;)e*=10,u+="f";return u},u.secInYear=86400,u}()})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var r,i;(function(n){n[n.Visible=0]="Visible";n[n.Plot=1]="Plot";n[n.Legend=2]="Legend";n[n.Hidden=3]="Hidden"})(t.SeriesVisibility||(t.SeriesVisibility={}));r=t.SeriesVisibility,function(n){n[n.Dot=0]="Dot";n[n.Box=1]="Box"}(t.Marker||(t.Marker={}));var f=t.Marker,e=function(){function n(){}return n}(),u=function(t){function r(r){t.call(this);this._series=n.asType(r,i)}return __extends(r,t),Object.defineProperty(r.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),r}(n.EventArgs);t.SeriesEventArgs=u;i=function(){function i(){this._symbolMarker=0;this._visibility=0}return Object.defineProperty(i.prototype,"style",{get:function(){return this._style},set:function(n){n!=this._style&&(this._style=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"symbolStyle",{get:function(){return this._symbolStyle},set:function(n){n!=this._symbolStyle&&(this._symbolStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"symbolSize",{get:function(){return this._symbolSize},set:function(t){t!=this._symbolSize&&(this._symbolSize=n.asNumber(t,!0,!0),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._getSymbolSize=function(){return this.symbolSize!=null?this.symbolSize:this.chart.symbolSize},Object.defineProperty(i.prototype,"symbolMarker",{get:function(){return this._symbolMarker},set:function(t){t!=this._symbolMarker&&(this._symbolMarker=n.asEnum(t,f,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"chartType",{get:function(){return this._chartType},set:function(i){i!=this._chartType&&(this._chartType=n.asEnum(i,t.ChartType,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"binding",{get:function(){return this._binding?this._binding:this._chart?this._chart.binding:null},set:function(t){t!=this._binding&&(this._binding=n.asString(t,!0),this._values=null,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bindingX",{get:function(){return this._bindingX?this._bindingX:this._chart?this._chart.bindingX:null},set:function(t){t!=this._bindingX&&(this._bindingX=n.asString(t,!0),this._values=null,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this._name},set:function(n){this._name=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSource",{get:function(){return this._itemsSource},set:function(t){t!=this._itemsSource&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._itemsSource=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._values=null,this._itemsSource=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"collectionView",{get:function(){return this._cv?this._cv:this._chart?this._chart.collectionView:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"chart",{get:function(){return this._chart},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hostElement",{get:function(){return this._hostElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"legendElement",{get:function(){return this._legendElement},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cssClass",{get:function(){return this._cssClass},set:function(t){this._cssClass=n.asString(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"visibility",{get:function(){return this._visibility},set:function(t){if(t!=this._visibility&&(this._visibility=n.asEnum(t,r),this._clearValues(),this._invalidate(),this._chart))this._chart.onSeriesVisibilityChanged(new u(this))},enumerable:!0,configurable:!0}),i.prototype.hitTest=function(t,i){return n.isNumber(t)&&n.isNumber(i)?t=new n.Point(t,i):t instanceof MouseEvent&&(t=new n.Point(t.pageX,t.pageY)),n.asType(t,n.Point),this._chart?this._chart._hitTestSeries(t,this._chart.series.indexOf(this)):null},i.prototype.getPlotElement=function(n){if(this.hostElement&&n<this._pointIndexes.length){var t=this._pointIndexes[n];if(t<this.hostElement.childNodes.length)return this.hostElement.childNodes[t]}return null},i.prototype.getDataType=function(n){return n==0?this._valueDataType:n==1?this._xvalueDataType:null},i.prototype.getValues=function(n){var i,t;if(n==0)return this._values==null&&(this._valueDataType=null,this._cv!=null?(t=this._bindValues(this._cv.items,this._getBinding(0)),this._values=t.values,this._valueDataType=t.dataType):this.binding!=null&&this._chart!=null&&this._chart.collectionView!=null&&(t=this._bindValues(this._chart.collectionView.items,this._getBinding(0)),this._values=t.values,this._valueDataType=t.dataType)),this._values;if(n==1){if(this._xvalues==null&&(this._xvalueDataType=null,i=this,this.bindingX!=null))if(i._cv!=null)t=this._bindValues(i._cv.items,this.bindingX),this._xvalueDataType=t.dataType,this._xvalues=t.values;else{if(this._bindingX==null)return null;i._chart!=null&&i._chart.collectionView!=null&&(t=this._bindValues(i._chart.collectionView.items,this.bindingX),this._xvalueDataType=t.dataType,this._xvalues=t.values)}return this._xvalues}return null},i.prototype.drawLegendItem=function(r,u){var l=this._chartType,s,h;l==null&&(l=this._chart.chartType);r.strokeWidth=1;var f=i._LEGEND_ITEM_MARGIN,a=null,v=null;a===null&&(a=this._chart._getColorLight(this._chart.series.indexOf(this)));v===null&&(v=this._chart._getColor(this._chart.series.indexOf(this)));r.fill=a;r.stroke=v;var e=u.top+.5*u.height,o=i._LEGEND_ITEM_WIDTH,c=i._LEGEND_ITEM_HEIGHT;switch(l){case 5:r.drawRect(u.left+f,e-.5*c,o,c,null,this.style);break;case 1:case 0:r.drawRect(u.left+f,e-.5*c,o,c,null,this.symbolStyle?this.symbolStyle:this.style);break;case 2:case 6:s=.3*o;h=.3*c;this.symbolMarker==1?r.drawRect(u.left+f+.5*o-s,e-h,2*s,2*h,null,this.symbolStyle):r.drawEllipse(u.left+.5*o+f,e,s,h,null,this.symbolStyle);break;case 3:r.drawLine(u.left+f,e,u.left+o+f,e,null,this.style);break;case 4:s=.3*o;h=.3*c;this.symbolMarker==1?r.drawRect(u.left+f+.5*o-s,e-h,2*s,2*h,null,this.symbolStyle):r.drawEllipse(u.left+.5*o+f,e,s,h,null,this.symbolStyle);r.drawLine(u.left+f,e,u.left+o+f,e,null,this.style);break;case 7:case 8:r.drawLine(u.left+f,e,u.left+o+f,e,null,this.symbolStyle?this.symbolStyle:this.style)}this._name&&t.FlexChart._renderText(r,this._name,new n.Point(u.left+c+2*f,e),0,1,t.FlexChart._CSS_LABEL)},i.prototype.measureLegendItem=function(r){var u=new n.Size,f;return u.width=i._LEGEND_ITEM_WIDTH,u.height=i._LEGEND_ITEM_HEIGHT,this._name&&(f=r.measureString(this._name,t.FlexChart._CSS_LABEL),u.width+=f.width,u.height<f.height&&(u.height=f.height)),u.width+=3*i._LEGEND_ITEM_MARGIN,u.height+=2*i._LEGEND_ITEM_MARGIN,u},i.prototype._clearValues=function(){this._values=null},i.prototype._getBinding=function(n){var i=null,t;return this.binding&&(t=this.binding.split(","),t&&t.length>n&&(i=t[n].trim())),i},i.prototype._getBindingValues=function(n){var t,i;return this._cv!=null?t=this._cv.items:this._chart!=null&&this._chart.collectionView!=null&&(t=this._chart.collectionView.items),i=this._bindValues(t,this._getBinding(n)),i.values},i.prototype._getItem=function(n){var t=null;return this.itemsSource!=null?t=this.itemsSource[n]:this._chart.itemsSource!=null&&(t=this._chart.itemsSource[n]),t},i.prototype._getLength=function(){var n=null;return this.itemsSource!=null?n=this.itemsSource.length:this._chart.itemsSource!=null&&(n=this._chart.itemsSource.length),n},i.prototype._setPointIndex=function(n,t){this._pointIndexes[n]=t},i.prototype._cvCollectionChanged=function(){this._values=null;this._invalidate()},i.prototype._cvCurrentChanged=function(){this._invalidate()},i.prototype._bindValues=function(i,r){var o,h,c,f,u,s;if(i!=null)for(c=i.length,o=new Array(i.length),f=0;f<c;f++)u=i[f],r!=null&&(u=u[r]),n.isNumber(u)?(o[f]=u,h=2):n.isDate(u)&&(o[f]=t.FlexChart._toOADate(u),h=4);return s=new e,s.values=o,s.dataType=h,s},i.prototype._invalidate=function(){this._chart&&this._chart.invalidate()},i.prototype._indexToPoint=function(t){if(t>=0&&t<this._values.length){var i=this._values[t],r=this._xvalues?this._xvalues[t]:t;return new n.Point(r,i)}return null},i._LEGEND_ITEM_WIDTH=10,i._LEGEND_ITEM_HEIGHT=10,i._LEGEND_ITEM_MARGIN=4,i._DEFAULT_SYM_SIZE=10,i}();t.Series=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(){"use strict"})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var i=function(){function t(n){this._strokeWidth=1;this._fontSize=null;this._fontFamily=null;this._element=n;this._create();this._element.appendChild(this._svg)}return t.prototype.beginRender=function(){while(this._svg.firstChild)this._svg.removeChild(this._svg.firstChild);this._svg.appendChild(this._textGroup)},t.prototype.endRender=function(){this._svg.removeChild(this._textGroup)},t.prototype.setViewportSize=function(n,t){this._svg.setAttribute("width",n.toString());this._svg.setAttribute("height",t.toString())},Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(n){this._fill=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(n){this._fontSize=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(n){this._fontFamily=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(n){this._stroke=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(n){this._strokeWidth=n},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textFill",{get:function(){return this._textFill},set:function(n){this._textFill=n},enumerable:!0,configurable:!0}),t.prototype.addClipRect=function(n,i){if(n&&i){var u=document.createElementNS(t.svgNS,"clipPath"),r=document.createElementNS(t.svgNS,"rect");r.setAttribute("x",(n.left-1).toFixed());r.setAttribute("y",(n.top-1).toFixed());r.setAttribute("width",(n.width+2).toFixed());r.setAttribute("height",(n.height+2).toFixed());u.appendChild(r);u.setAttribute("id",i);this._svg.appendChild(u)}},t.prototype.drawEllipse=function(n,i,r,u,f,e){var o=document.createElementNS(t.svgNS,"ellipse");o.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&o.setAttribute("stroke-width",this._strokeWidth.toString());o.setAttribute("fill",this._fill);o.setAttribute("cx",n.toFixed(1));o.setAttribute("cy",i.toFixed(1));o.setAttribute("rx",r.toFixed(1));o.setAttribute("ry",u.toFixed(1));f&&o.setAttribute("class",f);this._applyStyle(o,e);this._appendChild(o)},t.prototype.drawRect=function(n,i,r,u,f,e,o){var s=document.createElementNS(t.svgNS,"rect");s.setAttribute("fill",this._fill);s.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&s.setAttribute("stroke-width",this._strokeWidth.toString());s.setAttribute("x",n.toFixed(1));s.setAttribute("y",i.toFixed(1));s.setAttribute("width",r.toFixed(1));s.setAttribute("height",u.toFixed(1));o&&s.setAttribute("clip-path","url(#"+o+")");f&&s.setAttribute("class",f);this._applyStyle(s,e);this._appendChild(s)},t.prototype.drawLine=function(n,i,r,u,f,e){var o=document.createElementNS(t.svgNS,"line");o.setAttribute("stroke",this._stroke);this._strokeWidth!==null&&o.setAttribute("stroke-width",this._strokeWidth.toString());o.setAttribute("x1",n.toFixed(1));o.setAttribute("x2",r.toFixed(1));o.setAttribute("y1",i.toFixed(1));o.setAttribute("y2",u.toFixed(1));f&&o.setAttribute("class",f);this._applyStyle(o,e);this._appendChild(o)},t.prototype.drawLines=function(n,i,r,u,f){var s,e,h,o;if(n&&i&&(s=Math.min(n.length,i.length),s>0)){for(e=document.createElementNS(t.svgNS,"polyline"),e.setAttribute("stroke",this._stroke),this._strokeWidth!==null&&e.setAttribute("stroke-width",this._strokeWidth.toString()),e.setAttribute("fill","none"),h="",o=0;o<s;o++)h+=n[o].toFixed(1)+","+i[o].toFixed(1)+" ";e.setAttribute("points",h);r&&e.setAttribute("class",r);f&&e.setAttribute("clip-path","url(#"+f+")");this._applyStyle(e,u);this._appendChild(e)}},t.prototype.drawPolygon=function(n,i,r,u,f){var s,e,h,o;if(n&&i&&(s=Math.min(n.length,i.length),s>0)){for(e=document.createElementNS(t.svgNS,"polygon"),e.setAttribute("stroke",this._stroke),this._strokeWidth!==null&&e.setAttribute("stroke-width",this._strokeWidth.toString()),e.setAttribute("fill",this._fill),h="",o=0;o<s;o++)h+=n[o].toFixed(1)+","+i[o].toFixed(1)+" ";e.setAttribute("points",h);r&&e.setAttribute("class",r);f&&e.setAttribute("clip-path","url(#"+f+")");this._applyStyle(e,u);this._appendChild(e)}},t.prototype.drawString=function(n,t,i){var r=this._createText(t,n),u;i&&r.setAttribute("class",i);this._appendChild(r);u=r.getBBox();r.setAttribute("y",(t.y-(u.y+u.height-t.y)).toFixed(1))},t.prototype.drawStringRotated=function(n,i,r,u,f){var e=this._createText(i,n),o,s;f&&e.setAttribute("class",f);o=document.createElementNS(t.svgNS,"g");o.setAttribute("transform","rotate("+u.toFixed(1)+","+r.x.toFixed(1)+","+r.y.toFixed(1)+")");o.appendChild(e);this._appendChild(o);s=e.getBBox();e.setAttribute("y",(i.y-(s.y+s.height-i.y)).toFixed(1))},t.prototype.measureString=function(t,i,r){var u=new n.Size(0,0),f;return this._fontSize&&this._text.setAttribute("font-size",this._fontSize),this._fontFamily&&this._text.setAttribute("font-family",this._fontFamily),i&&this._text.setAttribute("class",i),r&&this._textGroup.setAttribute("class",r),this._setText(this._text,t),f=this._text.getBBox(),u.width=f.width,u.height=f.height,this._text.removeAttribute("font-size"),this._text.removeAttribute("font-family"),this._text.removeAttribute("class"),this._textGroup.removeAttribute("class"),this._text.textContent=null,u},t.prototype.startGroup=function(n,i){var r=document.createElementNS(t.svgNS,"g");return n&&r.setAttribute("class",n),i&&r.setAttributeNS(t.svgNS,"clip-path","url(#"+i+")"),this._appendChild(r),this._group=r,r},t.prototype.endGroup=function(){if(this._group){var n=this._group.parentNode;this._group=n==this._svg?null:n}},t.prototype._appendChild=function(n){var t=this._group;t||(t=this._svg);t.appendChild(n)},t.prototype._create=function(){this._svg=document.createElementNS(t.svgNS,"svg");this._defs=document.createElementNS(t.svgNS,"defs");this._svg.appendChild(this._defs);this._text=this._createText(new n.Point(-1e3,-1e3),"");this._textGroup=document.createElementNS(t.svgNS,"g");this._textGroup.appendChild(this._text);this._svg.appendChild(this._textGroup)},t.prototype._setText=function(n,t){if(t&&t.indexOf("tspan")>=0)try{n.textContent=null;for(var r=new DOMParser,u='<svg xmlns="http://www.w3.org/2000/svg">'+t+"<\/svg>",f=r.parseFromString(u,"text/xml").documentElement,i=f.firstChild;i;)n.appendChild(n.ownerDocument.importNode(i,!0)),i=i.nextSibling}catch(e){throw new Error("Error parsing XML string.");}else n.textContent=t},t.prototype._createText=function(n,i){var r=document.createElementNS(t.svgNS,"text");return this._setText(r,i),r.setAttribute("fill",this._textFill),r.setAttribute("x",n.x.toFixed(1)),r.setAttribute("y",n.y.toFixed(1)),this._fontSize&&r.setAttribute("font-size",this._fontSize),this._fontFamily&&r.setAttribute("font-family",this._fontFamily),r},t.prototype._applyStyle=function(n,t){if(t)for(var i in t)n.setAttribute(this._deCase(i),t[i])},t.prototype._deCase=function(n){return n.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()})},t.svgNS="http://www.w3.org/2000/svg",t}();t._SvgRenderEngine=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(t){"use strict";var i=function(){function i(t){this._position=3;this._areas=[];this._sz=new n.Size;this._chart=t}return Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(i){this._position!=i&&(this._position=n.asEnum(i,t.Position),this._chart.invalidate())},enumerable:!0,configurable:!0}),i.prototype._getDesiredSize=function(t){var e=this.position,u,f,o,r;if(e==0)return null;var h=e==3||e==1,i=new n.Size,s=this._chart.series,c=s.length;for(u=0;u<c;u++)(f=n.tryCast(s[u],n.chart.Series),o=f.visibility,f.name&&o!=3&&o!=1)&&(r=f.measureLegendItem(t),h?(i.height+=r.height,i.width<r.width&&(i.width=r.width)):(i.width+=r.width,i.height<r.height&&(i.height=r.height)));return this._sz=i,i},i.prototype._render=function(t,i){var o,c,l,f,r,u;for(this._areas=[],o=this._chart.series,c=o.length,t.fill="transparent",t.stroke=null,t.drawRect(i.x,i.y,this._sz.width,this._sz.height),l=this.position==3||this.position==1,f=0;f<c;f++){if(r=n.tryCast(o[f],n.chart.Series),u=r.visibility,!r.name||u==3||u==1){r._legendElement=null;continue}var e=r.measureLegendItem(t),s=new n.Rect(i.x,i.y,e.width,e.height),h=t.startGroup(r.cssClass);u==2?(h.setAttribute("opacity","0.5"),r._legendElement=h,r.drawLegendItem(t,s)):u==0?(r._legendElement=h,r.drawLegendItem(t,s)):r._legendElement=null;t.endGroup();this._areas.push(s);l?i.y+=e.height:i.x+=e.width}},i.prototype._hitTest=function(n){for(var r=this._areas,i=0;i<r.length;i++)if(t.FlexChart._contains(r[i],n))return i;return null},i}();t.Legend=i})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(n){"use strict";(function(n){n[n.PlotArea=0]="PlotArea";n[n.AxisX=1]="AxisX";n[n.AxisY=2]="AxisY";n[n.ChartArea=3]="ChartArea";n[n.Legend=4]="Legend";n[n.Header=5]="Header";n[n.Footer=6]="Footer";n[n.Series=7]="Series";n[n.SeriesSymbol=8]="SeriesSymbol";n[n.None=9]="None"})(n.ChartElement||(n.ChartElement={}));var i=n.ChartElement,t=function(){function t(n,t){this._pointIndex=null;this._chartElement=9;this._chart=n;this._pt=t}return Object.defineProperty(t.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"series",{get:function(){return this._series},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pointIndex",{get:function(){return this._pointIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartElement",{get:function(){return this._chartElement},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"distance",{get:function(){return this._dist},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item===undefined&&(this._item=null,this.series!==null&&this.pointIndex!==null&&(this.series.itemsSource!=null?this._item=this.series.itemsSource[this.pointIndex]:this._chart.itemsSource!=null&&(this._item=this._chart.itemsSource[this.pointIndex]))),this._item},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x===undefined&&(this._x=this._getValue(1,!1)),this._x},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y===undefined&&(this._y=this._getValue(0,!1)),this._y},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_xfmt",{get:function(){return this.__xfmt===undefined&&(this.__xfmt=this._getValue(1,!0)),this.__xfmt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_yfmt",{get:function(){return this.__yfmt===undefined&&(this.__yfmt=this._getValue(0,!0)),this.__yfmt},enumerable:!0,configurable:!0}),t.prototype._getValue=function(t,i){var r=null,u=this._chart,f=this.pointIndex,e,o;return this.series!==null&&f!==null&&(e=this.series.getValues(t),o=this.series.getDataType(t),e&&this.pointIndex<e.length?(r=e[this.pointIndex],o!=4||i||(r=n.FlexChart._fromOADate(r))):t==1&&(u._xlabels&&u._xlabels.length>0&&f<u._xlabels.length?r=u._xlabels[f]:u._xvals&&f<u._xvals.length&&(r=u._xvals[f],u._xDataType!=4||i||(r=n.FlexChart._fromOADate(r))))),r!==null&&i&&(t==0?r=u.axisY._formatValue(r):t==1&&(r=u.axisX._formatValue(r))),r},t}();n.HitTestInfo=t})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={})),function(n){(function(n){"use strict";var t=function(){function n(){}return n.standard=["#5DA5DA","#FAA43A","#60BD68","#E5126F","#9D722A"],n}();n.Palettes=t})(n.chart||(n.chart={}));var t=n.chart}(wijmo||(wijmo={}))
