/*
    *
    * Wijmo Library 5.20142.10
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    * 
    * Licensed under the Wijmo Commercial License. 
    * sales@wijmo.com
    * http://wijmo.com/widgets/license/
    *
    */
var __extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},wijmo;(function(n){(function(t){"use strict";var i=function(t){function i(i){var e,r,f,u;t.call(this,i);this._showBtn=!0;this.textChanged=new n.Event;this.isDroppedDownChanged=new n.Event;e=$(this.getTemplate()).appendTo(this.hostElement);this.applyTemplate("wj-control wj-dropdown wj-content",e,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input");this._elRef=this._tbx;this._createDropDown();this._updateBtn();r=this;f=$(i);f.on("focus",function(){u.focus()});f.on("focusout",function(){setTimeout(function(){r.containsFocus()||(r.isDroppedDown=!1)},0)});u=$(this._tbx);u.on("input",function(){r._setText(r.text,!1)});u.on("focus",function(){setTimeout(function(){document.activeElement==r._tbx&&r.selectAll()},0)});$(this._btn).on("click",function(n){r.isDroppedDown=!r.isDroppedDown;n.preventDefault();n.stopPropagation();setTimeout(function(){r.isTouching?r._btn.focus():r._tbx.focus()},0)});this._orgTag=="INPUT"&&this._copyOriginalAttributes(this._tbx)}return __extends(i,t),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&this._setText(n,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isDroppedDown",{get:function(){return this._dropDown.style.display!="none"},set:function(n){n!=this.isDroppedDown&&(n?(this._updateDropDown(),$(this._dropDown).fadeIn()):this._dropDown.style.display="none",this.onIsDroppedDownChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(t){this._showBtn=n.asBoolean(t);this._updateBtn()},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){this._elRef==this._tbx&&this._tbx.setSelectionRange(0,this.text.length)},i.prototype.onTextChanged=function(n){this.textChanged.raise(this,n)},i.prototype.onIsDroppedDownChanged=function(n){this.isDroppedDownChanged.raise(this,n)},i.prototype._setText=function(n){n==null&&(n="");n!=this._tbx.value&&(this._tbx.value=n);n!=this._oldText&&(this._oldText=n,this.onTextChanged())},i.prototype._updateBtn=function(){this._btn.tabIndex=-1;this._btn.style.display=this._showBtn?"":"none"},i.prototype._createDropDown=function(){},i.prototype._updateDropDown=function(){var a=$(this.hostElement),i=$(this._dropDown),n=this.hostElement.getBoundingClientRect(),t=this._elRef.getBoundingClientRect(),f=t.height>0?Math.round(n.top-t.top):-1,s=t.width>0?Math.round(n.left-t.left):-1,r={minWidth:n.width,margin:f+"px "+s+"px",top:0,left:0},u=i.height(),h=n.top,c=window.innerHeight-n.bottom;r.top=c<u&&h>=u?f-u-6:n.height+2;var e=i.width(),l=n.left,o=window.innerWidth-n.left;r.left=o<e&&l>=o?n.width-e-6:0;i.css(r)},i.controlTemplate='<div style="position:relative" class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control" /><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button" tabindex="-1"><span class="wj-glyph-down"><\/span><\/button><\/span><\/div><\/div><div wj-part="dropdown" class="wj-content wj-dropdown-panel" style="display:none;position:absolute;z-index:100;margin:4px 0px;width:auto"><\/div><\/div>',i}(n.Control);t.DropDown=i})(n.input||(n.input={}));var t=n.input})(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(t){function i(i,r){t.call(this,i);this.valueChanged=new n.Event;this._value=new Date;this._currMonth=this._getMonth(this._value);this._createChildren();this.refresh(!0);var u=$(i);u.on("click",this._click.bind(this));u.on("keydown",this._keydown.bind(this));r&&this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){var i,r;n.DateTime.equals(this._value,t)||(t=n.asDate(t,!0),t&&(this._min!=null&&(i=n.DateTime.fromDateTime(this._min,t),t<i&&(t=i)),this._max!=null&&t>this._max&&(r=n.DateTime.fromDateTime(this._max,t),t>r&&(t=r))),n.DateTime.equals(this._value,t)||(this._value=t,this.displayMonth=this._getMonth(t),this.invalidate(!1),this.onValueChanged()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){t!=this.min&&(this._min=n.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){t!=this.max&&(this._max=n.asDate(t,!0),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(t){if(t!=this._fdw&&(this._fdw=n.asNumber(t,!0),this._fdw&&(this._fdw>6||this._fdw<0)))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"displayMonth",{get:function(){return this._currMonth},set:function(t){t!=this.displayMonth&&(t=n.asDate(t),this._isValidMonth(t)&&(this._currMonth=this._getMonth(t),this.invalidate(!0)))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showHeader",{get:function(){return this._tblHdr.style.display!="none"},set:function(t){this._tblHdr.style.display=n.asBoolean(t)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"monthView",{get:function(){return this._tblMonth.style.display!="none"},set:function(n){n!=this.monthView&&(this._tblMonth.style.display=n?"":"none",this._tblYear.style.display=n?"none":"")},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){t!=this._itemFormatter&&(this._itemFormatter=n.asFunction(t),this.invalidate())},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},i.prototype.refresh=function(t){var u,r,o,e,s,h,f,i;for(typeof t=="undefined"&&(t=!0),s=new Date,h=this.firstDayOfWeek!=null?this.firstDayOfWeek:n.Globalize.getFirstDayOfWeek(),this._firstDay=n.DateTime.addDays(this.displayMonth,-(this.displayMonth.getDay()-h+7)%7),this._spMonth.textContent=n.Globalize.format(this.displayMonth,"y"),u=$(this._tblMonth).find("td"),i=0;i<7;i++)r=n.DateTime.addDays(this._firstDay,i),u[i].textContent=n.Globalize.format(r,"ddd");for(i=7;i<u.length;i++)r=n.DateTime.addDays(this._firstDay,i-7),u[i].textContent=r.getDate().toString(),e=r.getMonth()==this.displayMonth.getMonth()&&this._isValidDay(r),n.toggleClass(u[i],"wj-state-disabled",!e),o=u[i].style,o.fontWeight=n.DateTime.sameDate(r,s)?"bold":"",this._highlightElement(u[i],n.DateTime.sameDate(r,this.value)),this.itemFormatter&&this.itemFormatter(r,u[i]);for(f=$(this._tblMonth).find("tr"),r=n.DateTime.addDays(this._firstDay,28),f[f.length-2].style.display=r.getMonth()==this.displayMonth.getMonth()?"":"none",r=n.DateTime.addDays(this._firstDay,35),f[f.length-1].style.display=r.getMonth()==this.displayMonth.getMonth()?"":"none",u=$(this._tblYear).find("td"),u[0].textContent=this.displayMonth.getFullYear().toString(),i=1;i<u.length;i++)r=new Date(this.displayMonth.getFullYear(),i-1,1),u[i].textContent=n.Globalize.format(r,"MMM"),e=this._isValidMonth(r),n.toggleClass(u[i],"wj-state-disabled",!e),this._highlightElement(u[i],n.DateTime.sameDate(this._getMonth(r),this.displayMonth))},i.prototype._isValidDay=function(n){return this.max&&n>this.max||this.min&&n<this.min?!1:!0},i.prototype._isValidMonth=function(n){return this.max&&n>this.max||this.min&&n<new Date(this.min.getFullYear(),this.min.getMonth(),1)?!1:!0},i.prototype._createChildren=function(){var f=$(this.getTemplate()).appendTo(this.hostElement),n,i,t,r,u;for(this.applyTemplate("wj-control wj-calendar",f,{_tblHdr:"tbl-header",_tdMonth:"btn-month",_spMonth:"span-month",_btnPrev:"btn-prev",_btnToday:"btn-today",_btnNext:"btn-next",_tblMonth:"tbl-month",_tblYear:"tbl-year"}),n='<tr class="wj-header">',t=0;t<7;t++)n+="<td />";for(n+="<\/tr>",i=0;i<6;i++){for(n+="<tr>",t=0;t<7;t++)n+="<td />";n+="<\/tr>"}for($(this._tblMonth).append(n),n='<tr class="wj-header"><td colspan="4" /><\/tr>',r=0;r<3;r++){for(n+="<tr>",u=0;u<4;u++)n+="<td />";n+="<\/tr>"}$(this._tblYear).append(n)},i.prototype._click=function(t){var r=!1,i=document.elementFromPoint(t.clientX,t.clientY),u;this._contains(this._tdMonth,i)?(this.monthView=!this.monthView,r=!0):this._contains(this._btnPrev,i)?(this._navigateDate(this.monthView,-1),r=!0):this._contains(this._btnNext,i)?(this._navigateDate(this.monthView,1),r=!0):this._contains(this._btnToday,i)&&(this._navigateDate(this.monthView,0),r=!0);!r&&i&&(i=this._closest(i,"TD"),i&&(this.monthView?(u=$(this._tblMonth).find("td").index(i),u>6&&(this.value=n.DateTime.fromDateTime(n.DateTime.addDays(this._firstDay,u-7),this.value),r=!0)):(u=$(this._tblYear).find("td").index(i),u>0&&(this.displayMonth=new Date(this.displayMonth.getFullYear(),u-1,1),this.monthView=!0,r=!0))));r&&t.preventDefault()},i.prototype._closest=function(n,t){while(n&&n.tagName!=t)n=n.parentElement;return n},i.prototype._contains=function(n,t){for(var i=t;i;i=i.parentElement)if(i===n)return!0;return!1},i.prototype._keydown=function(n){if(!n.ctrlKey&&!n.shiftKey){var t=!0;if(this.monthView)switch(n.keyCode){case 37:this.value=this._addDays(-1);break;case 39:this.value=this._addDays(1);break;case 38:this.value=this._addDays(-7);break;case 40:this.value=this._addDays(7);break;case 34:this.displayMonth=this._addMonths(1);break;case 33:this.displayMonth=this._addMonths(-1);break;default:t=!1}else switch(n.keyCode){case 37:this.displayMonth=this._addMonths(-1);break;case 39:this.displayMonth=this._addMonths(1);break;case 38:this.displayMonth=this._addMonths(-4);break;case 40:this.displayMonth=this._addMonths(4);break;case 34:this.displayMonth=this._addMonths(12);break;case 33:this.displayMonth=this._addMonths(-12);break;case 13:this.monthView=!0;break;default:t=!1}t&&n.preventDefault()}},i.prototype._getMonth=function(n){return n||(n=new Date),new Date(n.getFullYear(),n.getMonth(),1)},i.prototype._addDays=function(t){var i=n.DateTime.addDays(this.value,t);return n.DateTime.fromDateTime(i,this.value)},i.prototype._addMonths=function(t){return n.DateTime.addMonths(this.displayMonth,t)},i.prototype._navigateDate=function(t,i){switch(i){case 0:t?this.value=new Date:this.displayMonth=this._getMonth(new Date);break;case 1:this.displayMonth=t?n.DateTime.addMonths(this.displayMonth,1):n.DateTime.addYears(this.displayMonth,1);break;case-1:this.displayMonth=t?n.DateTime.addMonths(this.displayMonth,-1):n.DateTime.addYears(this.displayMonth,-1)}},i.prototype._highlightElement=function(t,i){n.toggleClass(t,"wj-state-selected",i)},i.controlTemplate='<div style="cursor:default"><div class="wj-calendar-outer wj-content"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select"><span wj-part="span-month"><\/span> <span class="wj-glyph-down"><\/span><\/div><div class="wj-btn-group"><button type="button" wj-part="btn-prev" class="wj-btn wj-btn-default"><span class="wj-glyph-left"><\/span><\/button><button type="button" wj-part="btn-today" class="wj-btn wj-btn-default"><span class="wj-glyph-circle"><\/span><\/button><button type="button" wj-part="btn-next" class="wj-btn wj-btn-default"><span class="wj-glyph-right"><\/span><\/button><\/div><\/div><table wj-part="tbl-month" class="wj-calendar-month" /><table wj-part="tbl-year" class="wj-calendar-year" style="display:none" /><\/div><\/div>',i}(n.Control);t.Calendar=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(t){function i(i,r){t.call(this,i);this._html=!1;this.selectedIndexChanged=new n.Event;this.itemsChanged=new n.Event;var u=$(i),f=$(this.getTemplate()).appendTo(this.hostElement);this.applyTemplate("wj-control wj-listbox wj-content",f,{_div:"lb-content"});u.on("click",this._click.bind(this));u.on("keydown",this._keydown.bind(this));u.on("keypress",this._keypress.bind(this));this._orgTag=="SELECT"&&(this._copyOriginalAttributes(this.hostElement),this._populateSelectElement(this.hostElement));r&&this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"itemsSource",{get:function(){return this._items},set:function(t){this._items!=t&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=t,this._cv=n.asCollectionView(t),this._cv!=null&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isContentHtml",{get:function(){return this._html},set:function(t){t!=this._html&&(this._html=n.asBoolean(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(t){this._itemFormatter=n.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"displayMemberPath",{get:function(){return this._pathDisplay},set:function(t){t!=this._pathDisplay&&(this._pathDisplay=n.asString(t),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedValuePath",{get:function(){return this._pathValue},set:function(t){this._pathValue=n.asString(t)},enumerable:!0,configurable:!0}),i.prototype.getDisplayValue=function(t){var i=null,r;return t>-1&&this._cv&&this._cv.items&&(i=this._cv.items[t],this.displayMemberPath&&(i=i[this.displayMemberPath],n.assert(i!=undefined,'item does not define displayMemberPath property "'+this.displayMemberPath+'".'))),r=i!=null?i.toString():"",this.itemFormatter&&(r=this.itemFormatter(t,r)),r},i.prototype.getDisplayText=function(n){var t;return n>-1&&n<this._div.children.length&&(t=this._div.children[n]),t!=null?t.textContent:""},Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(t){this._cv&&this._cv.moveCurrentToPosition(n.asNumber(t))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(n){this._cv&&this._cv.moveCurrentTo(n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedValue",{get:function(){var n=this.selectedItem;return n&&this.selectedValuePath&&(n=n[this.selectedValuePath]),n},set:function(n){var i=this.selectedValuePath,u=-1,t,r;if(this._cv){for(t=0;t<this._cv.items.length;t++)if(r=this._cv.items[t],i&&r[i]==n||!i&&r==n){u=t;break}this.selectedIndex=u}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxHeight",{get:function(){return parseFloat(this._div.style.maxHeight)},set:function(t){this._div.style.maxHeight=n.asNumber(t)+"px"},enumerable:!0,configurable:!0}),i.prototype.showSelection=function(){for(var t,i,e=this._div.childElementCount,r,u=this.selectedIndex,f=0;f<e;f++)r=this._div.children[f],n.toggleClass(r,"wj-state-selected",f==u);u>-1&&u<e&&(r=this._div.children[u],t=r.getBoundingClientRect(),i=this._div.getBoundingClientRect(),t.bottom>i.bottom?this._div.scrollTop+=t.bottom-i.bottom:t.top<i.top&&(this._div.scrollTop-=i.top-t.top))},i.prototype.onSelectedIndexChanged=function(n){this.selectedIndexChanged.raise(this,n)},i.prototype.onItemsChanged=function(n){this.itemsChanged.raise(this,n)},i.prototype._cvCollectionChanged=function(){this._populateList();this.onItemsChanged()},i.prototype._cvCurrentChanged=function(){this.showSelection();this.onSelectedIndexChanged()},i.prototype._populateList=function(){var i,t,r;if(this._div.innerHTML="",this._cv)for(i=0;i<this._cv.items.length;i++)t=document.createElement("div"),r=this.getDisplayValue(i),this._html==!0?t.innerHTML=r:t.textContent=r,t.className="wj-listbox-item",n.hasClass(t.firstChild,"wj-separator")&&(t.className+=" wj-separator"),this._div.appendChild(t);this.showSelection()},i.prototype._click=function(n){for(var t=document.elementFromPoint(n.clientX,n.clientY),i;t!=null&&t.parentNode!=this._div;)t=t.parentNode;for(i=0;i<this._div.childElementCount;i++)if(this._div.childNodes[i]==t){this.selectedIndex=i;break}},i.prototype._keydown=function(n){var f=!0,i=this.selectedIndex,e=this._div.childElementCount,t,r;switch(n.keyCode){case 40:i<e-1&&this.selectedIndex++;break;case 38:i>0&&this.selectedIndex--;break;case 36:this.selectedIndex=0;break;case 35:this.selectedIndex=e-1;break;case 34:if(this.selectedIndex>-1){var i=this.selectedIndex,o=this._div.offsetHeight,u=0;for(t=i+1;t<this._cv.items.length;t++){if(r=this._div.children[t].scrollHeight,u+r>o){this.selectedIndex=t;break}u+=r}this.selectedIndex==i&&this._cv.moveCurrentToLast()}break;case 33:if(this.selectedIndex>-1){var i=this.selectedIndex,o=this._div.offsetHeight,u=0;for(t=i-1;t>0;t--){if(r=this._div.children[t].scrollHeight,u+r>o){this.selectedIndex=t;break}u+=r}this.selectedIndex==i&&this._cv.moveCurrentToFirst()}break;default:f=!1}f&&n.preventDefault()},i.prototype._keypress=function(n){var r=this._div.childElementCount,t,i,u;if(n.charCode>0)for(t=1;t<r;t++)if(i=(this.selectedIndex+t)%r,u=this.getDisplayText(i).toLowerCase(),u.charCodeAt(0)==n.charCode){this.selectedIndex=i;n.preventDefault();break}},i.prototype._populateSelectElement=function(n){for(var t,u=n.children,i=[],f=-1,r=0;r<u.length;r++)t=u[r],t.tagName=="OPTION"&&(t.hasAttribute("selected")&&(f=i.length),t.innerHTML?i.push({hdr:t.innerHTML,val:t.getAttribute("value"),cmdParam:t.getAttribute("cmd-param")}):i.push({hdr:'<div class="wj-separator" style="width:100%;height:1px;margin:3px 0px;background-color:rgba(0,0,0,.2)"/>'}),n.removeChild(t),r--);i&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=i,this.selectedIndex=f)},i.controlTemplate='<div wj-part="lb-content" style="cursor:default;height:100%;overflow:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;"><\/div>',i}(n.Control);t.ListBox=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(i){function r(t,r){i.call(this,t);this._required=!0;this._editable=!1;this._deleting=!1;this._settingText=!1;this.selectedIndexChanged=new n.Event;$(this._tbx).on("keydown",this._handleKeyDown.bind(this));this._orgTag=="SELECT"&&(this._copyOriginalAttributes(this.hostElement),this._lbx._populateSelectElement(this.hostElement));r&&this.initialize(r)}return __extends(r,i),Object.defineProperty(r.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(n){this._lbx.itemsSource=n;this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(n){this._lbx.displayMemberPath=n;var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(n){this._lbx.selectedValuePath=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(t){if(t!=this.isContentHtml){this._lbx.isContentHtml=n.asBoolean(t);var i=this.getDisplayText();this.text!=i&&this._setText(i,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(t){this._lbx.itemFormatter=n.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(n){n!=this.selectedIndex&&(this._lbx.selectedIndex=n);var t=this.getDisplayText(n);this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(n){this._lbx.selectedItem=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"selectedValue",{get:function(){return this._lbx.selectedValue},set:function(n){this._lbx.selectedValue=n},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"required",{get:function(){return this._required},set:function(t){this._required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"isEditable",{get:function(){return this._editable},set:function(t){this._editable=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxDropDownHeight",{get:function(){var n=this._dropDown.children[0];return parseInt(n.style.maxHeight)},set:function(t){var i=this._dropDown.children[0];i.style.maxHeight=n.asNumber(t)+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxDropDownWidth",{get:function(){var n=this._dropDown.children[0];return parseInt(n.style.maxWidth)},set:function(t){var i=this._dropDown.children[0];i.style.maxWidth=n.asNumber(t)+"px"},enumerable:!0,configurable:!0}),r.prototype.getDisplayText=function(n){return typeof n=="undefined"&&(n=this.selectedIndex),this._lbx.getDisplayText(n)},r.prototype.onSelectedIndexChanged=function(n){this._updateBtn();this.selectedIndexChanged.raise(this,n)},r.prototype.indexOf=function(n,t){var r=this.collectionView,i,u;if(r&&r.items&&n)for(n=n.toLowerCase(),i=0;i<r.items.length;i++)if(u=this.getDisplayText(i).toLowerCase(),t){if(u==n)return i}else if(u.indexOf(n)==0)return i;return-1},r.prototype.onIsDroppedDownChanged=function(n){i.prototype.onIsDroppedDownChanged.call(this,n);this.isDroppedDown&&this._lbx.showSelection()},r.prototype._updateBtn=function(){var n=this.collectionView;this._btn.style.display=this._showBtn&&n&&n.items.length?"":"none"},r.prototype._createDropDown=function(){var n=this;this._lbx=new t.ListBox(this._dropDown);this._lbx.maxHeight=200;this._lbx.selectedIndexChanged.addHandler(function(){n._updateBtn();n.selectedIndex=n._lbx.selectedIndex;n.onSelectedIndexChanged()});this._lbx.itemsChanged.addHandler(function(){n.isDroppedDown=!1});$(this._dropDown).on("click",function(){n.isDroppedDown=!1})},r.prototype._setText=function(n,t){if(!this._settingText){this._settingText=!0;var r=this.selectedIndex,u=this.collectionView,f=this._tbx.selectionStart,e=-1;n==null&&(n="");this.isEditable&&this._deleting||(r=this.indexOf(n,t),r<0&&t&&(r=this.indexOf(n,!1)),r<0&&f>0&&(r=this.indexOf(n.substr(0,f),!1)),r<0&&!this.isEditable&&this.required&&u&&u.items&&(r=Math.max(0,this.indexOf(this._oldText,!1))),r>-1&&(e=f,n=this.getDisplayText(r)));u&&u.moveCurrentToPosition(r);n!=this._tbx.value&&(this._tbx.value=n);e>-1&&this.containsFocus()&&this._setSelectionRange(e,n.length);i.prototype._setText.call(this,n,t);this._deleting=!1;this._settingText=!1}},r.prototype._findNext=function(n,t){var i,u,f,r;if(this.collectionView)for(n=n.toLowerCase(),i=this.collectionView.items.length,r=1;r<i;r++)if(u=(this.selectedIndex+r*t+i)%i,f=this.getDisplayText(u).toLowerCase(),f.indexOf(n)==0)return u;return this.selectedIndex},r.prototype._handleKeyDown=function(n){var i,t;if((n.keyCode==8||n.keyCode==46)&&(this._deleting=!0),i=this.collectionView,i&&i.items){t=-1;switch(n.keyCode){case 38:t=this._tbx.selectionStart;this.selectedIndex=this._findNext(this.text.substr(0,t),-1);this._setSelectionRange(t,this.text.length);n.preventDefault();break;case 40:!this.isDroppedDown&&(n.ctrlKey||n.shiftKey)?this.isDroppedDown=!0:(t=this._tbx.selectionStart,this.selectedIndex=this._findNext(this.text.substr(0,t),1),this._setSelectionRange(t,this.text.length));n.preventDefault();break;case 27:case 13:this.isDroppedDown&&(this.isDroppedDown=!1,n.preventDefault());n.keyCode==13&&(this._setSelectionRange(0,this.text.length),n.preventDefault());break;case 9:this.isDroppedDown=!1;break;case 115:this.isDroppedDown=!this.isDroppedDown;n.preventDefault()}}},r.prototype._setSelectionRange=function(n,t){this._elRef==this._tbx&&this._tbx.setSelectionRange(n,t)},r}(t.DropDown);t.ComboBox=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(t){function i(n,i){t.call(this,n);this._minLength=2;this._maxItems=6;this._delay=500;this._query="";this._handlingCallback=!1;this.isEditable=!0;this.isContentHtml=!0;this.itemFormatter=this._defaultFormatter.bind(this);i&&this.initialize(i)}return __extends(i,t),Object.defineProperty(i.prototype,"minLength",{get:function(){return this._minLength},set:function(t){this._minLength=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxItems",{get:function(){return this._maxItems},set:function(t){this._maxItems=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"delay",{get:function(){return this._delay},set:function(t){this._delay=n.asNumber(t,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(t){this._itemsSourceFn=n.asFunction(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(t){this._cssMatch=n.asString(t)},enumerable:!0,configurable:!0}),i.prototype._setText=function(n){if(!this._handlingCallback){!n&&this.selectedIndex>-1&&(this.selectedIndex=-1);n!=this._oldText&&(this._tbx.value=n,this._oldText=n,this.onTextChanged());!n&&this.collectionView&&(this.collectionView.filter=null);var t=this;t._toSearch&&clearTimeout(t._toSearch);n!=this.getDisplayText()&&(t._toSearch=setTimeout(function(){t._toSearch=null;var n=t.text.trim().toLowerCase();n.length<t._minLength?t.isDroppedDown=!1:n!=t._query&&(t._query=n,n=n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),t._rxMatch=new RegExp("(?=.*"+n.replace(/ /g,")(?=.*")+")","ig"),t._rxHighlight=new RegExp("("+n.replace(/ /g,"|")+")","ig"),t.itemsSourceFunction?(t.isDroppedDown=!1,t.itemsSourceFunction(n,t.maxItems,t._itemSourceFunctionCallback.bind(t))):t._updateItems())},this._delay))}},i.prototype._itemSourceFunctionCallback=function(t){this._handlingCallback=!0;var i=n.asCollectionView(t);i&&i.moveCurrentToPosition(-1);this.itemsSource=i;this.isDroppedDown=!0;this._handlingCallback=!1},i.prototype._handleKeyDown=function(n){var t=this.collectionView,i,r;if(t&&t.items){i=this.selectedIndex;r=t.items.length;switch(n.keyCode){case 38:this.selectedIndex=Math.max(i-1,0);n.preventDefault();break;case 40:!this.isDroppedDown&&(n.ctrlKey||n.shiftKey)?this.isDroppedDown=!0:this.selectedIndex=Math.min(i+1,r-1);n.preventDefault();break;case 27:case 13:this.isDroppedDown&&(this.isDroppedDown=!1,n.preventDefault());break;case 9:this.isDroppedDown=!1}}},i.prototype.onIsDroppedDownChanged=function(n){t.prototype.onIsDroppedDownChanged.call(this,n);this._query="";!this.isDroppedDown&&this.selectedIndex>-1&&(this._setText(this.getDisplayText()),this.selectAll())},i.prototype._updateItems=function(){var n=this.collectionView;n&&(n.beginUpdate(),n.filter=this._filter.bind(this),n.endUpdate(),n.items.length>0?this.containsFocus()&&(this.isDroppedDown=!0):(this.isDroppedDown=!1,this.selectedIndex=-1))},i.prototype._filter=function(n){if(this.collectionView.items.length>=this._maxItems)return!1;this.displayMemberPath&&(n=n[this.displayMemberPath]);var t=n!=null?n.toString():"";return this._rxMatch.test(t)},i.prototype._defaultFormatter=function(n,t){var i="<b>$1<\/b>";return this._cssMatch&&(i="<span class="+this._cssMatch+">$1<\/span>"),t.replace(this._rxHighlight,i)},i}(t.ComboBox);t.AutoComplete=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(t){function i(i,r){var f,u;t.call(this,i);this.itemClicked=new n.Event;this._tbx.style.display="none";f='<div wj-part="header" class="wj-form-control" style="cursor:default"/>';this._header=$(f)[0];this._tbx.parentElement.insertBefore(this._header,this._tbx);this._elRef=this._header;this.required=!1;this._orgTag=="SELECT"&&(this.header=this.hostElement.getAttribute("header"),this._lbx.itemsSource&&(this.commandParameterPath="cmdParam"));u=this;this._header.addEventListener("click",function(){u.isDroppedDown=!u.isDroppedDown});this.isContentHtml=!0;this.maxDropDownHeight=500;r&&this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"header",{get:function(){return this._header.innerHTML},set:function(t){this._header.innerHTML=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"command",{get:function(){return this._command},set:function(n){this._command=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(t){this._cmdPath=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(t){this._cmdParamPath=n.asString(t)},enumerable:!0,configurable:!0}),i.prototype.onItemClicked=function(n){this.itemClicked.raise(this,n)},i.prototype.onTextChanged=function(n){var u;if(t.prototype.onTextChanged.call(this,n),!this._closing&&this.isDroppedDown){var i=!0,f=this.selectedItem,r=this._getCommand(this.selectedItem);if(r&&(u=this._cmdParamPath?f[this._cmdParamPath]:null,i=this._canExecuteCommand(r,u),i&&this._executeCommand(r,u)),i)this.onItemClicked(n)}},i.prototype.onIsDroppedDownChanged=function(n){var r,i,u,f,e;if(t.prototype.onIsDroppedDownChanged.call(this,n),this.isDroppedDown){if(this._closing=!0,this.required=!1,this.selectedIndex=-1,this.collectionView&&(this.command||this.commandPath))for(r=this.collectionView.items,i=0;i<r.length;i++)u=this._getCommand(r[i]),f=this.commandParameterPath?r[i][this.commandParameterPath]:null,u&&(e=this._lbx._div.childNodes[i],e.style.opacity=this._canExecuteCommand(u,f)?"":".5");this._closing=!1}},i.prototype._getCommand=function(n){var t=n&&this.commandPath?n[this.commandPath]:null;return t?t:this.command},i.prototype._executeCommand=function(t,i){t&&!n.isFunction(t)&&(t=t.executeCommand);n.isFunction(t)&&t(i)},i.prototype._canExecuteCommand=function(t,i){if(t){var r=t.canExecuteCommand;if(n.isFunction(r))return r(i)}return!0},i}(t.ComboBox);t.Menu=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(i){function r(t,r){i.call(this,t);this._value=new Date;this._format="d";this._required=!0;this.valueChanged=new n.Event;$(t).on("keydown",this._handleKeyDown.bind(this));$(this._tbx).on("blur",this._commitText.bind(this));if(this._orgTag=="INPUT"){var u=this._tbx.getAttribute("value");u&&(this.value=n.Globalize.parseDate(u,"yyyy-MM-dd"))}r&&this.initialize(r)}return __extends(r,i),Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(t){var i,r;n.DateTime.equals(this._value,t)?this._tbx.value=n.Globalize.format(t,this.format):(t=n.asDate(t,!this.required),t&&(this._min!=null&&(i=n.DateTime.fromDateTime(this._min,t),t<i&&(t=i)),this._max!=null&&t>this._max&&(r=n.DateTime.fromDateTime(this._max,t),t>r&&(t=r))),this._value=t,this._tbx.value=t?n.Globalize.format(t,this.format):"",this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._setText(n,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"required",{get:function(){return this._required},set:function(t){this._required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asDate(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this._tbx.value=n.Globalize.format(this.value,this.format))},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"calendar",{get:function(){return this._calendar},enumerable:!0,configurable:!0}),r.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},r.prototype.refresh=function(){this.isDroppedDown=!1;this._tbx.value=n.Globalize.format(this.value,this.format);this._calendar&&this._calendar.refresh()},r.prototype.onIsDroppedDownChanged=function(n){this.isDroppedDown&&this._calendar.focus();i.prototype.onIsDroppedDownChanged.call(this,n)},r.prototype._createDropDown=function(){var i=this,r;this._calendar=new t.Calendar(this._dropDown);this._calendar.valueChanged.addHandler(function(){i.value=n.DateTime.fromDateTime(i._calendar.value,i.value)});r=i.value;this._dropDown.addEventListener("mousedown",function(){r=i.value});this._dropDown.addEventListener("click",function(){var t=i._calendar.value;t&&!n.DateTime.sameDate(r,t)&&(i.isDroppedDown=!1)})},r.prototype._updateDropDown=function(){i.prototype._updateDropDown.call(this);this._calendar.value=this.value;this._calendar.min=this.min;this._calendar.max=this.max;var n=$(this._dropDown);n.css("minWidth",parseFloat(n.css("fontSize"))*18)},r.prototype._handleKeyDown=function(n){switch(n.keyCode){case 115:this.isDroppedDown=!this.isDroppedDown;n.preventDefault();break;case 40:!this.isDroppedDown&&(n.ctrlKey||n.shiftKey)&&(this.isDroppedDown=!0,n.preventDefault());break;case 38:this.isDroppedDown&&(n.ctrlKey||n.shiftKey)&&(this.isDroppedDown=!1,n.preventDefault());break;case 13:case 27:this.isDroppedDown&&(this.isDroppedDown=!1,n.preventDefault());n.keyCode==13&&(this._commitText(),n.preventDefault())}},r.prototype._commitText=function(){var i=this._tbx.value,t;i||this.required?(t=n.Globalize.parseDate(i,this.format),t?this.value=n.DateTime.fromDateTime(t,this.value):this._tbx.value=n.Globalize.format(this.value,this.format)):this.value=null},r.prototype._setDate=function(n,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())},r}(t.DropDown);t.InputDate=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(t){function i(i,r){var f,e,u;t.call(this,i);this._value=new Date;this._format="t";this.valueChanged=new n.Event;f=$(this.hostElement);e=this;f.focusout(function(){e._commitText()});this._orgTag=="INPUT"&&(u=this._tbx.getAttribute("value"),u&&(this.value=n.Globalize.parseDate(u,"HH:mm:ss")));r&&this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){t=n.asDate(t,!this.required);t&&(this._min!=null&&this._getTime(t)<this._getTime(this._min)&&(t=n.DateTime.fromDateTime(t,this._min)),this._max!=null&&this._getTime(t)>this._getTime(this._max)&&(t=n.DateTime.fromDateTime(t,this._max)));t!=this._value&&(this._value=t,this._tbx.value=t?n.Globalize.format(t,this.format):"",this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&(this._setText(n,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asDate(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asDate(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step=n.asNumber(t,!0);this.isDroppedDown=!1;this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this._tbx.value=n.Globalize.format(this.value,this.format))},enumerable:!0,configurable:!0}),i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},i.prototype.refresh=function(){this.isDroppedDown=!1;this._tbx.value=n.Globalize.format(this.value,this.format);this._updateItems()},i.prototype.onSelectedIndexChanged=function(n){this._commitText();t.prototype.onSelectedIndexChanged.call(this,n)},i.prototype._updateItems=function(){var i=new Date(0,0,0,0,0),r=new Date(0,0,0,23,59,59),f=n.isNumber(this.step)?this.step:30,e=this.value,u=[],t;for(this.min&&i.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&r.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),t=i;t<=r;t=n.DateTime.addMinutes(t,f))u.push(n.Globalize.format(t,this.format));this.itemsSource=u;this.value=e},i.prototype.onTextChanged=function(n){t.prototype.onTextChanged.call(this,n);this.onValueChanged(n)},i.prototype._handleKeyDown=function(n){t.prototype._handleKeyDown.call(this,n);switch(n.keyCode){case 13:this._commitText()}},i.prototype._commitText=function(){if(this.text||this.required){var t=n.Globalize.parseDate(this.text,this.format);t?this.value=n.DateTime.fromDateTime(this.value,t):this._tbx.value=n.Globalize.format(this.value,this.format)}else this.value=null},i.prototype._getTime=function(n){return n.getHours()*3600+n.getMinutes()*60+n.getSeconds()},i}(t.ComboBox);t.InputTime=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}));__extends=this.__extends||function(n,t){function r(){this.constructor=n}for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);r.prototype=t.prototype;n.prototype=new r},function(n){(function(t){"use strict";var i=function(t){function i(i,r){var s,e,u,f,o;t.call(this,i);this._showBtn=!0;this._required=!0;this._decChar=".";this._ehSelectAll=this.selectAll.bind(this);this.textChanged=new n.Event;this.valueChanged=new n.Event;s=$(this.getTemplate()).appendTo(this.hostElement);this.applyTemplate("wj-control wj-inputnumber wj-content",s,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");this._orgTag=="INPUT"&&(this._copyOriginalAttributes(this._tbx),e=this._tbx.getAttribute("value"),e&&(this.value=n.Globalize.parseFloat(e)));this._decChar=n.Globalize.getNumberDecimalSeparator();this._updateBtn();u=this;f=$(u._tbx);f.on("keypress",u._keypress.bind(this));f.on("keydown",u._keydown.bind(this));f.on("input",u._input.bind(this));f.on("focus",function(){setTimeout(u._ehSelectAll,0)});$(this._btnUp).on("click",function(){u.value!=null&&(u.value=u._clamp(u.value+u.step),u.isTouching?u._btnUp.focus():setTimeout(u._ehSelectAll,0))});$(this._btnDn).on("click",function(){u.value!=null&&(u.value=u._clamp(u.value-u.step),u.isTouching?u._btnDn.focus():setTimeout(u._ehSelectAll,0))});o=$(this.hostElement);o.on("focus",function(){f.focus()});o.focusout(function(){u.value=u._clamp(u.value)});this.value=0;r&&this.initialize(r)}return __extends(i,t),Object.defineProperty(i.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"inputType",{get:function(){return this._tbx.type},set:function(t){this._tbx.type=n.asString(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(t){if(t!=this._value)if(t=n.asNumber(t,!this.required),t==null)this._setText("");else if(!isNaN(t)){t=this._clamp(t);var i=n.Globalize.format(t,this.format);this._setText(i)}},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"required",{get:function(){return this._required},set:function(t){this._required=n.asBoolean(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"step",{get:function(){return this._step},set:function(t){this._step=n.asNumber(t,!0);this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"format",{get:function(){return this._format},set:function(t){t!=this.format&&(this._format=n.asString(t),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this._tbx.value},set:function(n){n!=this.text&&this._setText(n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(n){this._tbx.placeholder=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(t){this._showBtn=n.asBoolean(t);this._updateBtn()},enumerable:!0,configurable:!0}),i.prototype.selectAll=function(){var n=this._getInputRange();this._tbx.setSelectionRange(n[0],n[1])},i.prototype.onTextChanged=function(n){this.textChanged.raise(this,n)},i.prototype.onValueChanged=function(n){this.valueChanged.raise(this,n)},i.prototype.refresh=function(){this._decChar=n.Globalize.getNumberDecimalSeparator();this._setText(n.Globalize.format(this.value,this.format))},i.prototype._clamp=function(n){return n!=null&&(this.max!=null&&n>this.max&&(n=this.max),this.min!=null&&n<this.min&&(n=this.min)),n},i.prototype._isNumeric=function(n,t){typeof t=="undefined"&&(t=!1);var i=n==this._decChar||n>="0"&&n<="9";return i||t||(i="+-()".indexOf(n)>-1),i},i.prototype._getInputRange=function(n){var t;typeof n=="undefined"&&(n=!1);var i=[0,0],r=this.text,u=!1;for(t=0;t<r.length;t++)this._isNumeric(r[t],n)&&(u||(i[0]=t,u=!0),i[1]=t+1);return i},i.prototype._moveToDigit=function(){var n=this._getInputRange(!0);this._tbx.setSelectionRange(n[0],n[1])},i.prototype._updateBtn=function(){this._showBtn&&this._step?(this._btnUp.style.display=this._btnDn.style.display="",n.addClass(this.hostElement,"wj-input-show-spinner")):(this._btnUp.style.display=this._btnDn.style.display="none",n.removeClass(this.hostElement,"wj-input-show-spinner"))},i.prototype._setText=function(t){if(!t){if(!this._required){this._tbx.value="";this._value!=null&&(this._value=i,this.onValueChanged());this._oldText&&(this._oldText=t,this.onTextChanged());return}t="0"}if(t=="-"||t==")"){this._tbx.value=t;this._tbx.setSelectionRange(1,1);return}t.length>1&&t[t.length-1]==")"&&t[0]!="("&&(t=t.substr(0,t.length-1));var i=n.Globalize.parseFloat(t);if(isNaN(i)){this._tbx.value=this._oldText;return}this._oldText&&this._oldText.indexOf("%")>-1&&t.indexOf("%")<1&&(i/=100);t=n.Globalize.format(i,this.format);t!=this._tbx.value&&(this._tbx.value=t);i!=this._value&&(this._value=i,this.onValueChanged());t!=this._oldText&&(this._oldText=t,this.onTextChanged())},i.prototype._keypress=function(n){var t,i;n.charCode&&(t=String.fromCharCode(n.charCode),this._isNumeric(t)||n.preventDefault(),t=="-"&&(this.value!=0?(this.value*=-1,this._moveToDigit()):this._setText("-"),n.preventDefault()),t=="+"&&(this.value=Math.abs(this.value),this._moveToDigit(),n.preventDefault()),t==this._decChar&&(i=this._tbx.value.indexOf(t),i>-1&&(this._tbx.selectionStart<=i&&i++,this._tbx.setSelectionRange(i,i),n.preventDefault())))},i.prototype._keydown=function(n){switch(n.keyCode){case 38:case 40:this.step&&(this.value=this._clamp(this.value+this.step*(n.keyCode==38?1:-1)),setTimeout(this.selectAll.bind(this),0),n.preventDefault());break;case 8:if(this._tbx.selectionStart==this._tbx.selectionEnd){var t=this._tbx.selectionStart;t>0&&this.text[t-1]==this._decChar&&(this._tbx.setSelectionRange(t-1,t-1),n.preventDefault())}}},i.prototype._input=function(){var t=this._tbx,r=t.value,n=t.selectionStart,u=r.indexOf(this._decChar),i;this._setText(r);r&&((u<0||n<=u)&&(n+=t.value.length-r.length),this._oldText&&this._oldText.indexOf(this._decChar)>-1&&t.value.indexOf(this._decChar)>-1&&u<0&&(n=t.value.indexOf(this._decChar)),i=this._getInputRange(),n<i[0]&&(n=i[0]),n>i[1]&&(n=i[1]),t.setSelectionRange(n,n))},i.controlTemplate='<div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">-<\/button><\/span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" type="button" tabindex="-1">+<\/button><\/span><\/div>',i}(n.Control);t.InputNumber=i})(n.input||(n.input={}));var t=n.input}(wijmo||(wijmo={}))
